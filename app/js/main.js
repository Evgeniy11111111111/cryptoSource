"use strict";

var burger = document.querySelector(".header__btn");
var menu = document.querySelector(".header__menu");
var container = document.querySelector(".custom-container");
var headerAccordionItems = document.querySelectorAll(".js-accordion-header");
var header = document.querySelector(".header");
var btnUp = document.querySelector('.button-up');
burger.addEventListener("click", function () {
  var windowWidth = window.innerWidth;
  var containerWidth = container.scrollWidth;

  if (windowWidth > containerWidth) {
    var widthForMenu = (windowWidth - containerWidth) / 2;
    menu.style.width = 725 + widthForMenu + 'px';
  } else {
    menu.style.width = '';
  }

  burger.classList.toggle('active');
  menu.classList.toggle('active');
});
headerAccordionItems.forEach(function (elem) {
  elem.addEventListener("click", function () {
    elem.parentElement.classList.contains("is-show") ? accordionNotActive(elem) : accordionActive(elem);
    headerAccordionItems.forEach(function (el) {
      if (el.parentElement !== elem.parentElement) accordionNotActive(el);
    });
  });
});
document.addEventListener('click', function (e) {
  if (!menu.contains(e.target) && !burger.contains(e.target)) {
    menu.style.width = '';
    burger.classList.remove('active');
    menu.classList.remove('active');
  }
});
window.addEventListener("scroll", function () {
  var scrollPosition = window.scrollY;

  if (scrollPosition >= 100) {
    header.classList.add('active');
  } else {
    header.classList.remove('active');
  }
});
window.addEventListener('scroll', function () {
  if (window.scrollY > window.innerHeight) {
    btnUp.classList.remove('is-hidden');
  } else {
    btnUp.classList.add('is-hidden');
  }
});

if (window.scrollY > window.innerHeight) {
  btnUp.classList.remove('is-hidden');
} else {
  btnUp.classList.add('is-hidden');
}

btnUp.addEventListener('click', function () {
  window.scrollTo({
    top: 0,
    behavior: 'smooth'
  });
});

function initMap() {
  var myMap = new ymaps.Map("js-map-penza", {
    center: [53.184451071233134, 45.007014999999924],
    zoom: 13,
    minZoom: 13,
    controls: []
  }, {
    minZoom: 13
  });
  var placemarkDiv = ymaps.templateLayoutFactory.createClass("\n  <div class=\"placemark-custom\">\n    <span class=\"placemark__layout\">\n      <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M15.645 7.54741C15.645 8.93117 14.8282 10.8548 13.6386 12.8497C12.5829 14.6203 11.2788 16.374 10.1427 17.7311C8.94696 16.3197 7.63756 14.5599 6.59452 12.7978C5.42654 10.8246 4.64502 8.93422 4.64502 7.54741C4.64502 4.79601 7.06981 2.5 10.145 2.5C13.2202 2.5 15.645 4.79601 15.645 7.54741Z\" fill=\"#009A6D\" stroke=\"#009A6D\"/>\n        <circle cx=\"10.145\" cy=\"8\" r=\"2.5\" fill=\"white\" stroke=\"#009A6D\"/>\n      </svg>\n    </span>\n  </div>\n  ");
  var circlePlacemark = new ymaps.Placemark([53.184451071233134, 45.007014999999924], {}, {
    iconLayout: placemarkDiv,
    iconShape: {
      type: 'Circle',
      coordinates: [0, 0],
      radius: 30
    }
  });
  myMap.geoObjects.add(circlePlacemark);
  myMap.controls.remove('searchControl');
  myMap.controls.remove('trafficControl');
  myMap.controls.remove('typeSelector');
  myMap.controls.remove('fullscreenControl');
  myMap.controls.remove('rulerControl');
}

ymaps.ready(initMap);

function initMapMoscow() {
  var myMap = new ymaps.Map("js-map-moscow", {
    center: [55.7869050689375, 37.67187549999997],
    zoom: 13,
    minZoom: 13,
    controls: []
  }, {
    minZoom: 13
  });
  var placemarkDiv = ymaps.templateLayoutFactory.createClass("\n  <div class=\"placemark-custom\">\n    <span class=\"placemark__layout\">\n      <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M15.645 7.54741C15.645 8.93117 14.8282 10.8548 13.6386 12.8497C12.5829 14.6203 11.2788 16.374 10.1427 17.7311C8.94696 16.3197 7.63756 14.5599 6.59452 12.7978C5.42654 10.8246 4.64502 8.93422 4.64502 7.54741C4.64502 4.79601 7.06981 2.5 10.145 2.5C13.2202 2.5 15.645 4.79601 15.645 7.54741Z\" fill=\"#009A6D\" stroke=\"#009A6D\"/>\n        <circle cx=\"10.145\" cy=\"8\" r=\"2.5\" fill=\"white\" stroke=\"#009A6D\"/>\n      </svg>\n    </span>\n  </div>\n  ");
  var circlePlacemark = new ymaps.Placemark([55.7869050689375, 37.67187549999997], {}, {
    iconLayout: placemarkDiv,
    iconShape: {
      type: 'Circle',
      coordinates: [0, 0],
      radius: 30
    }
  });
  myMap.geoObjects.add(circlePlacemark);
  myMap.controls.remove('searchControl');
  myMap.controls.remove('trafficControl');
  myMap.controls.remove('typeSelector');
  myMap.controls.remove('fullscreenControl');
  myMap.controls.remove('rulerControl');
}

ymaps.ready(initMapMoscow);

if (document.getElementById("index")) {
  var swiper = new Swiper(".after-hero__swiper", {
    slidesPerView: 1,
    spaceBetween: 10,
    grid: {
      rows: 1,
      fill: "row"
    },
    breakpoints: {
      567: {
        slidesPerView: 2,
        grid: {
          rows: 2,
          fill: "row"
        },
        spaceBetween: 10
      },
      992: {
        slidesPerView: 3,
        grid: {
          rows: 2,
          fill: "row"
        },
        spaceBetween: 30
      },
      1200: {
        slidesPerView: 4,
        grid: {
          rows: 2,
          fill: "row"
        },
        spaceBetween: 30
      }
    },
    pagination: {
      el: ".after-hero__swiper-pagination",
      clickable: true
    }
  });
  var swiper2 = new Swiper(".customers__swiper", {
    slidesPerView: 2,
    spaceBetween: 10,
    pagination: {
      el: ".customers__pagination",
      clickable: true
    },
    navigation: {
      nextEl: ".customers__swiper-next",
      prevEl: ".customers__swiper-prev"
    },
    breakpoints: {
      567: {
        slidesPerView: 2,
        spaceBetween: 30
      },
      992: {
        slidesPerView: 3,
        spaceBetween: 30
      },
      1110: {
        slidesPerView: 4,
        spaceBetween: 30
      }
    }
  });
}

if (document.getElementById("about")) {
  var initMapContacts = function initMapContacts() {
    var myMap = new ymaps.Map("contacts__map-penza", {
      center: [53.184451071233134, 45.007014999999924],
      zoom: 13,
      minZoom: 13,
      controls: []
    }, {
      minZoom: 13
    });
    var placemarkDiv = ymaps.templateLayoutFactory.createClass("\n  <div class=\"placemark-custom\">\n    <span class=\"placemark__layout\">\n      <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M15.645 7.54741C15.645 8.93117 14.8282 10.8548 13.6386 12.8497C12.5829 14.6203 11.2788 16.374 10.1427 17.7311C8.94696 16.3197 7.63756 14.5599 6.59452 12.7978C5.42654 10.8246 4.64502 8.93422 4.64502 7.54741C4.64502 4.79601 7.06981 2.5 10.145 2.5C13.2202 2.5 15.645 4.79601 15.645 7.54741Z\" fill=\"#009A6D\" stroke=\"#009A6D\"/>\n        <circle cx=\"10.145\" cy=\"8\" r=\"2.5\" fill=\"white\" stroke=\"#009A6D\"/>\n      </svg>\n    </span>\n  </div>\n  ");
    var circlePlacemark = new ymaps.Placemark([53.184451071233134, 45.007014999999924], {}, {
      iconLayout: placemarkDiv,
      iconShape: {
        type: 'Circle',
        coordinates: [0, 0],
        radius: 30
      }
    });
    myMap.geoObjects.add(circlePlacemark);
    myMap.controls.remove('searchControl');
    myMap.controls.remove('trafficControl');
    myMap.controls.remove('typeSelector');
    myMap.controls.remove('fullscreenControl');
    myMap.controls.remove('rulerControl');
  };

  var initMapContactsMoscow = function initMapContactsMoscow() {
    var myMap = new ymaps.Map("contacts__map-moscow", {
      center: [55.7869050689375, 37.67187549999997],
      zoom: 13,
      minZoom: 13,
      controls: []
    }, {
      minZoom: 13
    });
    var placemarkDiv = ymaps.templateLayoutFactory.createClass("\n  <div class=\"placemark-custom\">\n    <span class=\"placemark__layout\">\n      <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M15.645 7.54741C15.645 8.93117 14.8282 10.8548 13.6386 12.8497C12.5829 14.6203 11.2788 16.374 10.1427 17.7311C8.94696 16.3197 7.63756 14.5599 6.59452 12.7978C5.42654 10.8246 4.64502 8.93422 4.64502 7.54741C4.64502 4.79601 7.06981 2.5 10.145 2.5C13.2202 2.5 15.645 4.79601 15.645 7.54741Z\" fill=\"#009A6D\" stroke=\"#009A6D\"/>\n        <circle cx=\"10.145\" cy=\"8\" r=\"2.5\" fill=\"white\" stroke=\"#009A6D\"/>\n      </svg>\n    </span>\n  </div>\n  ");
    var circlePlacemark = new ymaps.Placemark([55.7869050689375, 37.67187549999997], {}, {
      iconLayout: placemarkDiv,
      iconShape: {
        type: 'Circle',
        coordinates: [0, 0],
        radius: 30
      }
    });
    myMap.geoObjects.add(circlePlacemark);
    myMap.controls.remove('searchControl');
    myMap.controls.remove('trafficControl');
    myMap.controls.remove('typeSelector');
    myMap.controls.remove('fullscreenControl');
    myMap.controls.remove('rulerControl');
  };

  var tabButtons = Array.from(document.querySelectorAll(".about__tab-head-btn"));
  var elements = Array.from(document.querySelectorAll(".about__tab-item"));
  var accordionItems = document.querySelectorAll('.events__accordion-item-head');
  tabActive(tabButtons[0], 0, tabButtons, elements);
  tabButtons.forEach(function (btn, index) {
    btn.addEventListener("click", function () {
      tabActive(btn, index, tabButtons, elements);
    });
  });
  accordionItems.forEach(function (elem) {
    elem.addEventListener("click", function () {
      elem.parentElement.classList.contains("is-show") ? accordionNotActive(elem) : accordionActive(elem);
      accordionItems.forEach(function (el) {
        if (el.parentElement !== elem.parentElement) accordionNotActive(el);
      });
    });
  });
  var swiperHistory = new Swiper('.history__swiper', {
    slidesPerView: 1,
    spaceBetween: 10,
    breakpoints: {
      768: {
        slidesPerView: 2,
        spaceBetween: 30
      },
      1200: {
        slidesPerView: 3,
        spaceBetween: 30
      }
    },
    pagination: {
      el: ".history__pagination",
      clickable: true
    },
    navigation: {
      nextEl: ".history__swiper-next",
      prevEl: ".history__swiper-prev"
    }
  });
  ymaps.ready(initMapContacts);
  ymaps.ready(initMapContactsMoscow);
}

if (document.getElementById("work")) {
  var _tabButtons = Array.from(document.querySelectorAll(".work__tab-head-btn"));

  var _elements = Array.from(document.querySelectorAll(".work__tab-item"));

  var _accordionItems = document.querySelectorAll('.vacancies__accordion-item-head');

  var form = document.querySelector('.internship__form-js');
  var myModalOk = new bootstrap.Modal(document.querySelector(".js-modal-ok"));
  tabActive(_tabButtons[0], 0, _tabButtons, _elements);

  _tabButtons.forEach(function (btn, index) {
    btn.addEventListener("click", function () {
      tabActive(btn, index, _tabButtons, _elements);
    });
  });

  _accordionItems.forEach(function (elem) {
    elem.addEventListener("click", function () {
      elem.parentElement.classList.contains("is-show") ? accordionNotActive(elem) : accordionActive(elem);

      _accordionItems.forEach(function (el) {
        if (el.parentElement !== elem.parentElement) accordionNotActive(el);
      });
    });
  });

  var swiperLive = new Swiper(".live__swiper", {
    slidesPerView: 1,
    spaceBetween: 30,
    pagination: {
      el: ".live__pagination",
      clickable: true
    },
    navigation: {
      nextEl: ".live__swiper-next",
      prevEl: ".live__swiper-prev"
    }
  });
  form.addEventListener('submit', function (e) {
    e.preventDefault();
    myModalOk.show();
  });
}

if (document.getElementById("qp")) {
  var modal = document.querySelector(".js-submit-modal");
  var btns = document.querySelectorAll(".qp__button");
  var myModal = new bootstrap.Modal(modal);

  var _form = document.querySelector(".qp__modal-form");

  var _myModalOk = new bootstrap.Modal(document.querySelector(".js-modal-ok"));

  btns.forEach(function (btn) {
    btn.addEventListener("click", function () {
      myModal.show();
    });
  });

  _form.addEventListener("submit", function (e) {
    e.preventDefault();
    myModal.hide();

    _myModalOk.show();
  });

  var swiperQP = new Swiper(".qp__example-swiper", {
    slidesPerView: 1,
    spaceBetween: 10,
    pagination: {
      el: ".qp__example-pagination",
      clickable: true
    },
    navigation: {
      nextEl: ".qp__swiper-next",
      prevEl: ".qp__swiper-prev"
    }
  });
}

if (document.getElementById("quantum")) {
  var swiperQuantum = new Swiper(".quantum__swiper", {
    slidesPerView: 1,
    spaceBetween: 30,
    pagination: {
      el: ".quantum__pagination",
      clickable: true
    },
    navigation: {
      nextEl: ".quantum__swiper-next",
      prevEl: ".quantum__swiper-prev"
    }
  });

  var _modal = document.querySelector(".js-submit-modal");

  var _btns = document.querySelectorAll(".quantum__button");

  var _myModal = new bootstrap.Modal(_modal);

  var _form2 = document.querySelector(".quantum__modal-form");

  var _myModalOk2 = new bootstrap.Modal(document.querySelector(".js-modal-ok"));

  _btns.forEach(function (btn) {
    btn.addEventListener("click", function () {
      _myModal.show();
    });
  });

  _form2.addEventListener("submit", function (e) {
    e.preventDefault();

    _myModal.hide();

    _myModalOk2.show();
  });
}

function tabActive(btn, index, btns, elements) {
  btns.forEach(function (el) {
    return el.parentElement.classList.remove("active");
  });
  elements.forEach(function (el) {
    return el.classList.remove("active");
  });
  setTimeout(function () {
    elements.forEach(function (el) {
      return el.style.display = "none";
    });
    elements[index].style.display = 'block';
    elements[index].classList.add('active');
  }, 300);
  btn.parentElement.classList.add("active");
}

function accordionActive(item) {
  item.parentElement.classList.add("is-show");
  var panel = item.nextElementSibling;

  if (!panel.style.maxHeight) {
    panel.style.maxHeight = panel.scrollHeight + "px";
  }
}

function accordionNotActive(item) {
  item.parentElement.classList.remove("is-show");
  var panel = item.nextElementSibling;

  if (panel.style.maxHeight) {
    panel.style.maxHeight = null;
  }
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVudSIsImNvbnRhaW5lciIsImhlYWRlckFjY29yZGlvbkl0ZW1zIiwicXVlcnlTZWxlY3RvckFsbCIsImhlYWRlciIsImJ0blVwIiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvd1dpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImNvbnRhaW5lcldpZHRoIiwic2Nyb2xsV2lkdGgiLCJ3aWR0aEZvck1lbnUiLCJzdHlsZSIsIndpZHRoIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiZm9yRWFjaCIsImVsZW0iLCJwYXJlbnRFbGVtZW50IiwiY29udGFpbnMiLCJhY2NvcmRpb25Ob3RBY3RpdmUiLCJhY2NvcmRpb25BY3RpdmUiLCJlbCIsImUiLCJ0YXJnZXQiLCJyZW1vdmUiLCJzY3JvbGxQb3NpdGlvbiIsInNjcm9sbFkiLCJhZGQiLCJpbm5lckhlaWdodCIsInNjcm9sbFRvIiwidG9wIiwiYmVoYXZpb3IiLCJpbml0TWFwIiwibXlNYXAiLCJ5bWFwcyIsIk1hcCIsImNlbnRlciIsInpvb20iLCJtaW5ab29tIiwiY29udHJvbHMiLCJwbGFjZW1hcmtEaXYiLCJ0ZW1wbGF0ZUxheW91dEZhY3RvcnkiLCJjcmVhdGVDbGFzcyIsImNpcmNsZVBsYWNlbWFyayIsIlBsYWNlbWFyayIsImljb25MYXlvdXQiLCJpY29uU2hhcGUiLCJ0eXBlIiwiY29vcmRpbmF0ZXMiLCJyYWRpdXMiLCJnZW9PYmplY3RzIiwicmVhZHkiLCJpbml0TWFwTW9zY293IiwiZ2V0RWxlbWVudEJ5SWQiLCJzd2lwZXIiLCJTd2lwZXIiLCJzbGlkZXNQZXJWaWV3Iiwic3BhY2VCZXR3ZWVuIiwiZ3JpZCIsInJvd3MiLCJmaWxsIiwiYnJlYWtwb2ludHMiLCJwYWdpbmF0aW9uIiwiY2xpY2thYmxlIiwic3dpcGVyMiIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCJpbml0TWFwQ29udGFjdHMiLCJpbml0TWFwQ29udGFjdHNNb3Njb3ciLCJ0YWJCdXR0b25zIiwiQXJyYXkiLCJmcm9tIiwiZWxlbWVudHMiLCJhY2NvcmRpb25JdGVtcyIsInRhYkFjdGl2ZSIsImJ0biIsImluZGV4Iiwic3dpcGVySGlzdG9yeSIsImZvcm0iLCJteU1vZGFsT2siLCJib290c3RyYXAiLCJNb2RhbCIsInN3aXBlckxpdmUiLCJwcmV2ZW50RGVmYXVsdCIsInNob3ciLCJtb2RhbCIsImJ0bnMiLCJteU1vZGFsIiwiaGlkZSIsInN3aXBlclFQIiwic3dpcGVyUXVhbnR1bSIsInNldFRpbWVvdXQiLCJkaXNwbGF5IiwiaXRlbSIsInBhbmVsIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwibWF4SGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0Il0sIm1hcHBpbmdzIjoiOztBQUFBLElBQU1BLE1BQU0sR0FBR0MsUUFBUSxDQUFDQyxhQUFULENBQXVCLGNBQXZCLENBQWY7QUFDQSxJQUFNQyxJQUFJLEdBQUdGLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixlQUF2QixDQUFiO0FBQ0EsSUFBTUUsU0FBUyxHQUFHSCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsbUJBQXZCLENBQWxCO0FBQ0EsSUFBTUcsb0JBQW9CLEdBQUdKLFFBQVEsQ0FBQ0ssZ0JBQVQsQ0FBMEIsc0JBQTFCLENBQTdCO0FBQ0EsSUFBTUMsTUFBTSxHQUFHTixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsU0FBdkIsQ0FBZjtBQUNBLElBQU1NLEtBQUssR0FBR1AsUUFBUSxDQUFDQyxhQUFULENBQXVCLFlBQXZCLENBQWQ7QUFFQUYsTUFBTSxDQUFDUyxnQkFBUCxDQUF3QixPQUF4QixFQUFpQyxZQUFNO0VBQ3JDLElBQU1DLFdBQVcsR0FBR0MsTUFBTSxDQUFDQyxVQUEzQjtFQUNBLElBQU1DLGNBQWMsR0FBR1QsU0FBUyxDQUFDVSxXQUFqQzs7RUFFQSxJQUFJSixXQUFXLEdBQUdHLGNBQWxCLEVBQWtDO0lBRWhDLElBQU1FLFlBQVksR0FBRyxDQUFDTCxXQUFXLEdB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LElBQUksQ0FBQzdFLGFBQUwsQ0FBbUJKLFNBQW5CLENBQTZCYyxHQUE3QixDQUFpQyxTQUFqQztFQUNBLElBQUlvRSxLQUFLLEdBQUdELElBQUksQ0FBQ0Usa0JBQWpCOztFQUNBLElBQUksQ0FBQ0QsS0FBSyxDQUFDcEYsS0FBTixDQUFZc0YsU0FBakIsRUFBNEI7SUFDMUJGLEtBQUssQ0FBQ3BGLEtBQU4sQ0FBWXNGLFNBQVosR0FBd0JGLEtBQUssQ0FBQ0csWUFBTixHQUFxQixJQUE3QztFQUNEO0FBQ0Y7O0FBRUQsU0FBUy9FLGtCQUFULENBQTRCMkUsSUFBNUIsRUFBa0M7RUFDaENBLElBQUksQ0FBQzdFLGFBQUwsQ0FBbUJKLFNBQW5CLENBQTZCVyxNQUE3QixDQUFvQyxTQUFwQztFQUNBLElBQUl1RSxLQUFLLEdBQUdELElBQUksQ0FBQ0Usa0JBQWpCOztFQUNBLElBQUlELEtBQUssQ0FBQ3BGLEtBQU4sQ0FBWXNGLFNBQWhCLEVBQTJCO0lBQ3pCRixLQUFLLENBQUNwRixLQUFOLENBQVlzRixTQUFaLEdBQXdCLElBQXhCO0VBQ0Q7QUFDRiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2J0blwiKVxuY29uc3QgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19tZW51XCIpXG5jb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmN1c3RvbS1jb250YWluZXJcIik7XG5jb25zdCBoZWFkZXJBY2NvcmRpb25JdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuanMtYWNjb3JkaW9uLWhlYWRlclwiKVxuY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJcIik7XG5jb25zdCBidG5VcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tdXAnKTtcblxuYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGhcbiAgY29uc3QgY29udGFpbmVyV2lkdGggPSBjb250YWluZXIuc2Nyb2xsV2lkdGg7XG5cbiAgaWYgKHdpbmRvd1dpZHRoID4gY29udGFpbmVyV2lkdGgpIHtcblxuICAgIGNvbnN0IHdpZHRoRm9yTWVudSA9ICh3aW5kb3dXaWR0aCAtIGNvbnRhaW5lcldpZHRoKSAvIDJcbiAgICBtZW51LnN0eWxlLndpZHRoID0gNzI1ICsgd2lkdGhGb3JNZW51ICsgJ3B4JztcbiAgfSBlbHNlIHtcbiAgICBtZW51LnN0eWxlLndpZHRoID0gJyc7XG4gIH1cblxuICBidXJnZXIuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gIG1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG59KVxuXG5oZWFkZXJBY2NvcmRpb25JdGVtcy5mb3JFYWNoKGVsZW0gPT4ge1xuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgZWxlbS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImlzLXNob3dcIikgPyBhY2NvcmRpb25Ob3RBY3RpdmUoZWxlbSkgOiBhY2NvcmRpb25BY3RpdmUoZWxlbSlcbiAgICBoZWFkZXJBY2NvcmRpb25JdGVtcy5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGlmIChlbC5wYXJlbnRFbGVtZW50ICE9PSBlbGVtLnBhcmVudEVsZW1lbnQpIGFjY29yZGlvbk5vdEFjdGl2ZShlbClcbiAgICB9KVxuICB9KVxufSlcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICBpZiAoIW1lbnUuY29udGFpbnMoZS50YXJnZXQpICYmICFidXJnZXIuY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgbWVudS5zdHlsZS53aWR0aCA9ICcnO1xuICAgIGJ1cmdlci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICB9XG59KVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XG4gIGNvbnN0IHNjcm9sbFBvc2l0aW9uID0gd2luZG93LnNjcm9sbFlcblxuICBpZiAoc2Nyb2xsUG9zaXRpb24gPj0gMTAwKSB7XG4gICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gIH0gZWxzZSB7XG4gICAgaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gIH1cbn0pXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XG4gIGlmICh3aW5kb3cuc2Nyb2xsWSA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgIGJ0blVwLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWhpZGRlbicpXG4gIH0gZWxzZSB7XG4gICAgYnRuVXAuY2xhc3NMaXN0LmFkZCgnaXMtaGlkZGVuJylcbiAgfVxufSlcblxuaWYgKHdpbmRvdy5zY3JvbGxZID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gIGJ0blVwLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWhpZGRlbicpXG59IGVsc2Uge1xuICBidG5VcC5jbGFzc0xpc3QuYWRkKCdpcy1oaWRkZW4nKVxufVxuXG5idG5VcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgd2luZG93LnNjcm9sbFRvKHtcbiAgICB0b3A6IDAsXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gIH0pXG59KVxuZnVuY3Rpb24gaW5pdE1hcCgpIHtcbiAgdmFyIG15TWFwID0gbmV3IHltYXBzLk1hcChcImpzLW1hcC1wZW56YVwiLCB7XG4gICAgY2VudGVyOiBbNTMuMTg0NDUxMDcxMjMzMTM0LDQ1LjAwNzAxNDk5OTk5OTkyNF0sXG4gICAgem9vbTogMTMsXG4gICAgbWluWm9vbTogMTMsXG4gICAgY29udHJvbHM6IFtdXG4gIH0sIHtcbiAgICBtaW5ab29tOiAxMyxcbiAgfSlcblxuXG4gIHZhciBwbGFjZW1hcmtEaXYgPSB5bWFwcy50ZW1wbGF0ZUxheW91dEZhY3RvcnkuY3JlYXRlQ2xhc3MoYFxuICA8ZGl2IGNsYXNzPVwicGxhY2VtYXJrLWN1c3RvbVwiPlxuICAgIDxzcGFuIGNsYXNzPVwicGxhY2VtYXJrX19sYXlvdXRcIj5cbiAgICAgIDxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICA8cGF0aCBkPVwiTTE1LjY0NSA3LjU0NzQxQzE1LjY0NSA4LjkzMTE3IDE0LjgyODIgMTAuODU0OCAxMy42Mzg2IDEyLjg0OTdDMTIuNTgyOSAxNC42MjAzIDExLjI3ODggMTYuMzc0IDEwLjE0MjcgMTcuNzMxMUM4Ljk0Njk2IDE2LjMxOTcgNy42Mzc1NiAxNC41NTk5IDYuNTk0NTIgMTIuNzk3OEM1LjQyNjU0IDEwLjgyNDYgNC42NDUwMiA4LjkzNDIyIDQuNjQ1MDIgNy41NDc0MUM0LjY0NTAyIDQuNzk2MDEgNy4wNjk4MSAyLjUgMTAuMTQ1IDIuNUMxMy4yMjAyIDIuNSAxNS42NDUgNC43OTYwMSAxNS42NDUgNy41NDc0MVpcIiBmaWxsPVwiIzAwOUE2RFwiIHN0cm9rZT1cIiMwMDlBNkRcIi8+XG4gICAgICAgIDxjaXJjbGUgY3g9XCIxMC4xNDVcIiBjeT1cIjhcIiByPVwiMi41XCIgZmlsbD1cIndoaXRlXCIgc3Ryb2tlPVwiIzAwOUE2RFwiLz5cbiAgICAgIDwvc3ZnPlxuICAgIDwvc3Bhbj5cbiAgPC9kaXY+XG4gIGApXG5cbiAgdmFyIGNpcmNsZVBsYWNlbWFyayA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoWzUzLjE4NDQ1MTA3MTIzMzEzNCw0NS4wMDcwMTQ5OTk5OTk5MjRdLHt9LCB7XG4gICAgaWNvbkxheW91dDogcGxhY2VtYXJrRGl2LFxuICAgIGljb25TaGFwZToge1xuICAgICAgdHlwZTogJ0NpcmNsZScsXG4gICAgICBjb29yZGluYXRlczogWzAsIDBdLFxuICAgICAgcmFkaXVzOiAzMFxuICAgIH1cbiAgfSlcbiAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQoY2lyY2xlUGxhY2VtYXJrKTtcbiAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCdzZWFyY2hDb250cm9sJyk7XG4gIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgndHJhZmZpY0NvbnRyb2wnKTtcbiAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCd0eXBlU2VsZWN0b3InKTtcbiAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCdmdWxsc2NyZWVuQ29udHJvbCcpO1xuICBteU1hcC5jb250cm9scy5yZW1vdmUoJ3J1bGVyQ29udHJvbCcpO1xufVxuXG55bWFwcy5yZWFkeShpbml0TWFwKVxuXG5mdW5jdGlvbiBpbml0TWFwTW9zY293KCkge1xuICB2YXIgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKFwianMtbWFwLW1vc2Nvd1wiLCB7XG4gICAgY2VudGVyOiBbNTUuNzg2OTA1MDY4OTM3NSwzNy42NzE4NzU0OTk5OTk5N10sXG4gICAgem9vbTogMTMsXG4gICAgbWluWm9vbTogMTMsXG4gICAgY29udHJvbHM6IFtdXG4gIH0sIHtcbiAgICBtaW5ab29tOiAxMyxcbiAgfSlcblxuXG4gIHZhciBwbGFjZW1hcmtEaXYgPSB5bWFwcy50ZW1wbGF0ZUxheW91dEZhY3RvcnkuY3JlYXRlQ2xhc3MoYFxuICA8ZGl2IGNsYXNzPVwicGxhY2VtYXJrLWN1c3RvbVwiPlxuICAgIDxzcGFuIGNsYXNzPVwicGxhY2VtYXJrX19sYXlvdXRcIj5cbiAgICAgIDxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICA8cGF0aCBkPVwiTTE1LjY0NSA3LjU0NzQxQzE1LjY0NSA4LjkzMTE3IDE0LjgyODIgMTAuODU0OCAxMy42Mzg2IDEyLjg0OTdDMTIuNTgyOSAxNC42MjAzIDExLjI3ODggMTYuMzc0IDEwLjE0MjcgMTcuNzMxMUM4Ljk0Njk2IDE2LjMxOTcgNy42Mzc1NiAxNC41NTk5IDYuNTk0NTIgMTIuNzk3OEM1LjQyNjU0IDEwLjgyNDYgNC42NDUwMiA4LjkzNDIyIDQuNjQ1MDIgNy41NDc0MUM0LjY0NTAyIDQuNzk2MDEgNy4wNjk4MSAyLjUgMTAuMTQ1IDIuNUMxMy4yMjAyIDIuNSAxNS42NDUgNC43OTYwMSAxNS42NDUgNy41NDc0MVpcIiBmaWxsPVwiIzAwOUE2RFwiIHN0cm9rZT1cIiMwMDlBNkRcIi8+XG4gICAgICAgIDxjaXJjbGUgY3g9XCIxMC4xNDVcIiBjeT1cIjhcIiByPVwiMi41XCIgZmlsbD1cIndoaXRlXCIgc3Ryb2tlPVwiIzAwOUE2RFwiLz5cbiAgICAgIDwvc3ZnPlxuICAgIDwvc3Bhbj5cbiAgPC9kaXY+XG4gIGApXG5cbiAgdmFyIGNpcmNsZVBsYWNlbWFyayA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoWzU1Ljc4NjkwNTA2ODkzNzUsMzcuNjcxODc1NDk5OTk5OTddLHt9LCB7XG4gICAgaWNvbkxheW91dDogcGxhY2VtYXJrRGl2LFxuICAgIGljb25TaGFwZToge1xuICAgICAgdHlwZTogJ0NpcmNsZScsXG4gICAgICBjb29yZGluYXRlczogWzAsIDBdLFxuICAgICAgcmFkaXVzOiAzMFxuICAgIH1cbiAgfSlcbiAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQoY2lyY2xlUGxhY2VtYXJrKTtcbiAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCdzZWFyY2hDb250cm9sJyk7XG4gIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgndHJhZmZpY0NvbnRyb2wnKTtcbiAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCd0eXBlU2VsZWN0b3InKTtcbiAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCdmdWxsc2NyZWVuQ29udHJvbCcpO1xuICBteU1hcC5jb250cm9scy5yZW1vdmUoJ3J1bGVyQ29udHJvbCcpO1xufVxuXG55bWFwcy5yZWFkeShpbml0TWFwTW9zY293KVxuXG5pZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbmRleFwiKSkge1xuICB2YXIgc3dpcGVyID0gbmV3IFN3aXBlcihcIi5hZnRlci1oZXJvX19zd2lwZXJcIiwge1xuICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgc3BhY2VCZXR3ZWVuOiAxMCxcbiAgICBncmlkOiB7XG4gICAgICByb3dzOiAxLFxuICAgICAgZmlsbDogXCJyb3dcIlxuICAgIH0sXG4gICAgYnJlYWtwb2ludHM6IHtcbiAgICAgIDU2Nzoge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxuICAgICAgICBncmlkOiB7XG4gICAgICAgICAgcm93czogMixcbiAgICAgICAgICBmaWxsOiBcInJvd1wiXG4gICAgICAgIH0sXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMTAsXG4gICAgICB9LFxuICAgICAgOTkyOiB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDMsXG4gICAgICAgIGdyaWQ6IHtcbiAgICAgICAgICByb3dzOiAyLFxuICAgICAgICAgIGZpbGw6IFwicm93XCJcbiAgICAgICAgfSxcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgIH0sXG4gICAgICAxMjAwOiB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDQsXG4gICAgICAgIGdyaWQ6IHtcbiAgICAgICAgICByb3dzOiAyLFxuICAgICAgICAgIGZpbGw6IFwicm93XCJcbiAgICAgICAgfSxcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgIH1cbiAgICB9LFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGVsOiBcIi5hZnRlci1oZXJvX19zd2lwZXItcGFnaW5hdGlvblwiLFxuICAgICAgY2xpY2thYmxlOiB0cnVlXG4gICAgfVxuXG4gIH0pO1xuXG4gIGxldCBzd2lwZXIyID0gbmV3IFN3aXBlcihcIi5jdXN0b21lcnNfX3N3aXBlclwiLCB7XG4gICAgc2xpZGVzUGVyVmlldzogMixcbiAgICBzcGFjZUJldHdlZW46IDEwLFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGVsOiBcIi5jdXN0b21lcnNfX3BhZ2luYXRpb25cIixcbiAgICAgIGNsaWNrYWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiBcIi5jdXN0b21lcnNfX3N3aXBlci1uZXh0XCIsXG4gICAgICBwcmV2RWw6IFwiLmN1c3RvbWVyc19fc3dpcGVyLXByZXZcIlxuICAgIH0sXG4gICAgYnJlYWtwb2ludHM6IHtcbiAgICAgIDU2Nzoge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxuICAgICAgICBzcGFjZUJldHdlZW46IDMwLFxuICAgICAgfSxcbiAgICAgIDk5Mjoge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxuICAgICAgICBzcGFjZUJldHdlZW46IDMwLFxuICAgICAgfSxcbiAgICAgIDExMTA6IHtcbiAgICAgICAgc2xpZGVzUGVyVmlldzogNCxcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgIH1cbiAgICB9XG4gIH0pXG59XG5cbmlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFib3V0XCIpKSB7XG4gIGNvbnN0IHRhYkJ1dHRvbnMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYWJvdXRfX3RhYi1oZWFkLWJ0blwiKSk7XG4gIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFib3V0X190YWItaXRlbVwiKSk7XG4gIGNvbnN0IGFjY29yZGlvbkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmV2ZW50c19fYWNjb3JkaW9uLWl0ZW0taGVhZCcpO1xuICB0YWJBY3RpdmUodGFiQnV0dG9uc1swXSwgMCwgdGFiQnV0dG9ucywgZWxlbWVudHMpXG5cbiAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4sIGluZGV4KSA9PiB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7dGFiQWN0aXZlKGJ0biwgaW5kZXgsdGFiQnV0dG9ucywgZWxlbWVudHMpfSlcbiAgfSlcblxuICBhY2NvcmRpb25JdGVtcy5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGVsZW0ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJpcy1zaG93XCIpID8gYWNjb3JkaW9uTm90QWN0aXZlKGVsZW0pIDogYWNjb3JkaW9uQWN0aXZlKGVsZW0pXG4gICAgICBhY2NvcmRpb25JdGVtcy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgaWYgKGVsLnBhcmVudEVsZW1lbnQgIT09IGVsZW0ucGFyZW50RWxlbWVudCkgYWNjb3JkaW9uTm90QWN0aXZlKGVsKVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxuXG4gIHZhciBzd2lwZXJIaXN0b3J5ID0gbmV3IFN3aXBlcignLmhpc3RvcnlfX3N3aXBlcicsIHtcbiAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgIHNwYWNlQmV0d2VlbjogMTAsXG4gICAgYnJlYWtwb2ludHM6IHtcbiAgICAgIDc2ODoge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxuICAgICAgICBzcGFjZUJldHdlZW46IDMwLFxuICAgICAgfSxcbiAgICAgIDEyMDA6IHtcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMyxcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgIH1cbiAgICB9LFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGVsOiBcIi5oaXN0b3J5X19wYWdpbmF0aW9uXCIsXG4gICAgICBjbGlja2FibGU6IHRydWVcbiAgICB9LFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogXCIuaGlzdG9yeV9fc3dpcGVyLW5leHRcIixcbiAgICAgIHByZXZFbDogXCIuaGlzdG9yeV9fc3dpcGVyLXByZXZcIlxuICAgIH0sXG4gIH0pXG5cbiAgZnVuY3Rpb24gaW5pdE1hcENvbnRhY3RzKCkge1xuICAgIHZhciBteU1hcCA9IG5ldyB5bWFwcy5NYXAoXCJjb250YWN0c19fbWFwLXBlbnphXCIsIHtcbiAgICAgIGNlbnRlcjogWzUzLjE4NDQ1MTA3MTIzMzEzNCw0NS4wMDcwMTQ5OTk5OTk5MjRdLFxuICAgICAgem9vbTogMTMsXG4gICAgICBtaW5ab29tOiAxMyxcbiAgICAgIGNvbnRyb2xzOiBbXVxuICAgIH0sIHtcbiAgICAgIG1pblpvb206IDEzLFxuICAgIH0pXG5cblxuICAgIHZhciBwbGFjZW1hcmtEaXYgPSB5bWFwcy50ZW1wbGF0ZUxheW91dEZhY3RvcnkuY3JlYXRlQ2xhc3MoYFxuICA8ZGl2IGNsYXNzPVwicGxhY2VtYXJrLWN1c3RvbVwiPlxuICAgIDxzcGFuIGNsYXNzPVwicGxhY2VtYXJrX19sYXlvdXRcIj5cbiAgICAgIDxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICA8cGF0aCBkPVwiTTE1LjY0NSA3LjU0NzQxQzE1LjY0NSA4LjkzMTE3IDE0LjgyODIgMTAuODU0OCAxMy42Mzg2IDEyLjg0OTdDMTIuNTgyOSAxNC42MjAzIDExLjI3ODggMTYuMzc0IDEwLjE0MjcgMTcuNzMxMUM4Ljk0Njk2IDE2LjMxOTcgNy42Mzc1NiAxNC41NTk5IDYuNTk0NTIgMTIuNzk3OEM1LjQyNjU0IDEwLjgyNDYgNC42NDUwMiA4LjkzNDIyIDQuNjQ1MDIgNy41NDc0MUM0LjY0NTAyIDQuNzk2MDEgNy4wNjk4MSAyLjUgMTAuMTQ1IDIuNUMxMy4yMjAyIDIuNSAxNS42NDUgNC43OTYwMSAxNS42NDUgNy41NDc0MVpcIiBmaWxsPVwiIzAwOUE2RFwiIHN0cm9rZT1cIiMwMDlBNkRcIi8+XG4gICAgICAgIDxjaXJjbGUgY3g9XCIxMC4xNDVcIiBjeT1cIjhcIiByPVwiMi41XCIgZmlsbD1cIndoaXRlXCIgc3Ryb2tlPVwiIzAwOUE2RFwiLz5cbiAgICAgIDwvc3ZnPlxuICAgIDwvc3Bhbj5cbiAgPC9kaXY+XG4gIGApXG5cbiAgICB2YXIgY2lyY2xlUGxhY2VtYXJrID0gbmV3IHltYXBzLlBsYWNlbWFyayhbNTMuMTg0NDUxMDcxMjMzMTM0LDQ1LjAwNzAxNDk5OTk5OTkyNF0se30sIHtcbiAgICAgIGljb25MYXlvdXQ6IHBsYWNlbWFya0RpdixcbiAgICAgIGljb25TaGFwZToge1xuICAgICAgICB0eXBlOiAnQ2lyY2xlJyxcbiAgICAgICAgY29vcmRpbmF0ZXM6IFswLCAwXSxcbiAgICAgICAgcmFkaXVzOiAzMFxuICAgICAgfVxuICAgIH0pXG4gICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQoY2lyY2xlUGxhY2VtYXJrKTtcbiAgICBteU1hcC5jb250cm9scy5yZW1vdmUoJ3NlYXJjaENvbnRyb2wnKTtcbiAgICBteU1hcC5jb250cm9scy5yZW1vdmUoJ3RyYWZmaWNDb250cm9sJyk7XG4gICAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCd0eXBlU2VsZWN0b3InKTtcbiAgICBteU1hcC5jb250cm9scy5yZW1vdmUoJ2Z1bGxzY3JlZW5Db250cm9sJyk7XG4gICAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCdydWxlckNvbnRyb2wnKTtcbiAgfVxuICBmdW5jdGlvbiBpbml0TWFwQ29udGFjdHNNb3Njb3coKSB7XG4gICAgdmFyIG15TWFwID0gbmV3IHltYXBzLk1hcChcImNvbnRhY3RzX19tYXAtbW9zY293XCIsIHtcbiAgICAgIGNlbnRlcjogWzU1Ljc4NjkwNTA2ODkzNzUsMzcuNjcxODc1NDk5OTk5OTddLFxuICAgICAgem9vbTogMTMsXG4gICAgICBtaW5ab29tOiAxMyxcbiAgICAgIGNvbnRyb2xzOiBbXVxuICAgIH0sIHtcbiAgICAgIG1pblpvb206IDEzLFxuICAgIH0pXG5cblxuICAgIHZhciBwbGFjZW1hcmtEaXYgPSB5bWFwcy50ZW1wbGF0ZUxheW91dEZhY3RvcnkuY3JlYXRlQ2xhc3MoYFxuICA8ZGl2IGNsYXNzPVwicGxhY2VtYXJrLWN1c3RvbVwiPlxuICAgIDxzcGFuIGNsYXNzPVwicGxhY2VtYXJrX19sYXlvdXRcIj5cbiAgICAgIDxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICA8cGF0aCBkPVwiTTE1LjY0NSA3LjU0NzQxQzE1LjY0NSA4LjkzMTE3IDE0LjgyODIgMTAuODU0OCAxMy42Mzg2IDEyLjg0OTdDMTIuNTgyOSAxNC42MjAzIDExLjI3ODggMTYuMzc0IDEwLjE0MjcgMTcuNzMxMUM4Ljk0Njk2IDE2LjMxOTcgNy42Mzc1NiAxNC41NTk5IDYuNTk0NTIgMTIuNzk3OEM1LjQyNjU0IDEwLjgyNDYgNC42NDUwMiA4LjkzNDIyIDQuNjQ1MDIgNy41NDc0MUM0LjY0NTAyIDQuNzk2MDEgNy4wNjk4MSAyLjUgMTAuMTQ1IDIuNUMxMy4yMjAyIDIuNSAxNS42NDUgNC43OTYwMSAxNS42NDUgNy41NDc0MVpcIiBmaWxsPVwiIzAwOUE2RFwiIHN0cm9rZT1cIiMwMDlBNkRcIi8+XG4gICAgICAgIDxjaXJjbGUgY3g9XCIxMC4xNDVcIiBjeT1cIjhcIiByPVwiMi41XCIgZmlsbD1cIndoaXRlXCIgc3Ryb2tlPVwiIzAwOUE2RFwiLz5cbiAgICAgIDwvc3ZnPlxuICAgIDwvc3Bhbj5cbiAgPC9kaXY+XG4gIGApXG5cbiAgICB2YXIgY2lyY2xlUGxhY2VtYXJrID0gbmV3IHltYXBzLlBsYWNlbWFyayhbNTUuNzg2OTA1MDY4OTM3NSwzNy42NzE4NzU0OTk5OTk5N10se30sIHtcbiAgICAgIGljb25MYXlvdXQ6IHBsYWNlbWFya0RpdixcbiAgICAgIGljb25TaGFwZToge1xuICAgICAgICB0eXBlOiAnQ2lyY2xlJyxcbiAgICAgICAgY29vcmRpbmF0ZXM6IFswLCAwXSxcbiAgICAgICAgcmFkaXVzOiAzMFxuICAgICAgfVxuICAgIH0pXG4gICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQoY2lyY2xlUGxhY2VtYXJrKTtcbiAgICBteU1hcC5jb250cm9scy5yZW1vdmUoJ3NlYXJjaENvbnRyb2wnKTtcbiAgICBteU1hcC5jb250cm9scy5yZW1vdmUoJ3RyYWZmaWNDb250cm9sJyk7XG4gICAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCd0eXBlU2VsZWN0b3InKTtcbiAgICBteU1hcC5jb250cm9scy5yZW1vdmUoJ2Z1bGxzY3JlZW5Db250cm9sJyk7XG4gICAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCdydWxlckNvbnRyb2wnKTtcbiAgfVxuICB5bWFwcy5yZWFkeShpbml0TWFwQ29udGFjdHMpXG4gIHltYXBzLnJlYWR5KGluaXRNYXBDb250YWN0c01vc2Nvdylcbn1cblxuaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid29ya1wiKSkge1xuICBjb25zdCB0YWJCdXR0b25zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLndvcmtfX3RhYi1oZWFkLWJ0blwiKSk7XG4gIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLndvcmtfX3RhYi1pdGVtXCIpKTtcbiAgY29uc3QgYWNjb3JkaW9uSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudmFjYW5jaWVzX19hY2NvcmRpb24taXRlbS1oZWFkJyk7XG4gIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50ZXJuc2hpcF9fZm9ybS1qcycpXG4gIGNvbnN0IG15TW9kYWxPayA9IG5ldyBib290c3RyYXAuTW9kYWwoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1tb2RhbC1va1wiKSk7XG4gIHRhYkFjdGl2ZSh0YWJCdXR0b25zWzBdLCAwLCB0YWJCdXR0b25zLCBlbGVtZW50cylcblxuICB0YWJCdXR0b25zLmZvckVhY2goKGJ0biwgaW5kZXgpID0+IHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHt0YWJBY3RpdmUoYnRuLCBpbmRleCx0YWJCdXR0b25zLCBlbGVtZW50cyl9KVxuICB9KVxuXG4gIGFjY29yZGlvbkl0ZW1zLmZvckVhY2goZWxlbSA9PiB7XG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgZWxlbS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImlzLXNob3dcIikgPyBhY2NvcmRpb25Ob3RBY3RpdmUoZWxlbSkgOiBhY2NvcmRpb25BY3RpdmUoZWxlbSlcbiAgICAgIGFjY29yZGlvbkl0ZW1zLmZvckVhY2goZWwgPT4ge1xuICAgICAgICBpZiAoZWwucGFyZW50RWxlbWVudCAhPT0gZWxlbS5wYXJlbnRFbGVtZW50KSBhY2NvcmRpb25Ob3RBY3RpdmUoZWwpXG4gICAgICB9KVxuICAgIH0pXG4gIH0pXG5cbiAgbGV0IHN3aXBlckxpdmUgPSBuZXcgU3dpcGVyKFwiLmxpdmVfX3N3aXBlclwiLCB7XG4gICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICBzcGFjZUJldHdlZW46IDMwLFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGVsOiBcIi5saXZlX19wYWdpbmF0aW9uXCIsXG4gICAgICBjbGlja2FibGU6IHRydWVcbiAgICB9LFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogXCIubGl2ZV9fc3dpcGVyLW5leHRcIixcbiAgICAgIHByZXZFbDogXCIubGl2ZV9fc3dpcGVyLXByZXZcIlxuICAgIH0sXG4gIH0pXG5cbiAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBteU1vZGFsT2suc2hvdygpO1xuICB9KVxufVxuXG5pZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJxcFwiKSkge1xuICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtc3VibWl0LW1vZGFsXCIpO1xuICBjb25zdCBidG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5xcF9fYnV0dG9uXCIpO1xuICBjb25zdCBteU1vZGFsID0gbmV3IGJvb3RzdHJhcC5Nb2RhbChtb2RhbCk7XG4gIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnFwX19tb2RhbC1mb3JtXCIpXG4gIGNvbnN0IG15TW9kYWxPayA9IG5ldyBib290c3RyYXAuTW9kYWwoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1tb2RhbC1va1wiKSk7XG5cbiAgYnRucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBteU1vZGFsLnNob3coKTtcbiAgICB9KVxuICB9KVxuXG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBteU1vZGFsLmhpZGUoKTtcbiAgICBteU1vZGFsT2suc2hvdygpO1xuICB9KVxuXG4gIGxldCBzd2lwZXJRUCA9IG5ldyBTd2lwZXIoXCIucXBfX2V4YW1wbGUtc3dpcGVyXCIsIHtcbiAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgIHNwYWNlQmV0d2VlbjogMTAsXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6IFwiLnFwX19leGFtcGxlLXBhZ2luYXRpb25cIixcbiAgICAgIGNsaWNrYWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiBcIi5xcF9fc3dpcGVyLW5leHRcIixcbiAgICAgIHByZXZFbDogXCIucXBfX3N3aXBlci1wcmV2XCJcbiAgICB9LFxuICB9KVxufVxuXG5pZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJxdWFudHVtXCIpKSB7XG4gIGxldCBzd2lwZXJRdWFudHVtID0gbmV3IFN3aXBlcihcIi5xdWFudHVtX19zd2lwZXJcIiwge1xuICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogXCIucXVhbnR1bV9fcGFnaW5hdGlvblwiLFxuICAgICAgY2xpY2thYmxlOiB0cnVlXG4gICAgfSxcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICBuZXh0RWw6IFwiLnF1YW50dW1fX3N3aXBlci1uZXh0XCIsXG4gICAgICBwcmV2RWw6IFwiLnF1YW50dW1fX3N3aXBlci1wcmV2XCJcbiAgICB9LFxuICB9KVxuXG4gIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1zdWJtaXQtbW9kYWxcIik7XG4gIGNvbnN0IGJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnF1YW50dW1fX2J1dHRvblwiKTtcbiAgY29uc3QgbXlNb2RhbCA9IG5ldyBib290c3RyYXAuTW9kYWwobW9kYWwpO1xuICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5xdWFudHVtX19tb2RhbC1mb3JtXCIpXG4gIGNvbnN0IG15TW9kYWxPayA9IG5ldyBib290c3RyYXAuTW9kYWwoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1tb2RhbC1va1wiKSk7XG5cbiAgYnRucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBteU1vZGFsLnNob3coKTtcbiAgICB9KVxuICB9KVxuXG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBteU1vZGFsLmhpZGUoKTtcbiAgICBteU1vZGFsT2suc2hvdygpO1xuICB9KVxufVxuXG5mdW5jdGlvbiB0YWJBY3RpdmUoYnRuLCBpbmRleCwgYnRucywgZWxlbWVudHMpIHtcbiAgYnRucy5mb3JFYWNoKChlbCkgPT4gZWwucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKTtcbiAgZWxlbWVudHMuZm9yRWFjaChlbCA9PiBlbC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgZWxlbWVudHMuZm9yRWFjaChlbCA9PiBlbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCIpXG4gICAgZWxlbWVudHNbaW5kZXhdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIGVsZW1lbnRzW2luZGV4XS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblxuICB9LCAzMDApXG5cbiAgYnRuLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbn1cblxuZnVuY3Rpb24gYWNjb3JkaW9uQWN0aXZlKGl0ZW0pIHtcbiAgaXRlbS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJpcy1zaG93XCIpO1xuICBsZXQgcGFuZWwgPSBpdGVtLm5leHRFbGVtZW50U2libGluZztcbiAgaWYgKCFwYW5lbC5zdHlsZS5tYXhIZWlnaHQpIHtcbiAgICBwYW5lbC5zdHlsZS5tYXhIZWlnaHQgPSBwYW5lbC5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWNjb3JkaW9uTm90QWN0aXZlKGl0ZW0pIHtcbiAgaXRlbS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1zaG93XCIpO1xuICBsZXQgcGFuZWwgPSBpdGVtLm5leHRFbGVtZW50U2libGluZztcbiAgaWYgKHBhbmVsLnN0eWxlLm1heEhlaWdodCkge1xuICAgIHBhbmVsLnN0eWxlLm1heEhlaWdodCA9IG51bGxcbiAgfVxufVxuIl19
