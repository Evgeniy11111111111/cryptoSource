"use strict";

var burger = document.querySelector(".header__btn");
var menu = document.querySelector(".header__menu");
var container = document.querySelector(".custom-container");
var headerAccordionItems = document.querySelectorAll(".js-accordion-header");
var header = document.querySelector(".header");
var btnUp = document.querySelector('.button-up');
burger.addEventListener("click", function () {
  var windowWidth = window.innerWidth;
  var containerWidth = container.scrollWidth;

  if (windowWidth > containerWidth) {
    var widthForMenu = (windowWidth - containerWidth) / 2;
    menu.style.width = 725 + widthForMenu + 'px';
  } else {
    menu.style.width = '';
  }

  burger.classList.toggle('active');
  menu.classList.toggle('active');
});
headerAccordionItems.forEach(function (elem) {
  elem.addEventListener("click", function () {
    elem.parentElement.classList.contains("is-show") ? accordionNotActive(elem) : accordionActive(elem);
    headerAccordionItems.forEach(function (el) {
      if (el.parentElement !== elem.parentElement) accordionNotActive(el);
    });
  });
});
document.addEventListener('click', function (e) {
  if (!menu.contains(e.target) && !burger.contains(e.target)) {
    menu.style.width = '';
    burger.classList.remove('active');
    menu.classList.remove('active');
  }
});
window.addEventListener("scroll", function () {
  var scrollPosition = window.scrollY;

  if (scrollPosition >= 100) {
    header.classList.add('active');
  } else {
    header.classList.remove('active');
  }
});
window.addEventListener('scroll', function () {
  if (window.scrollY > window.innerHeight) {
    btnUp.classList.remove('is-hidden');
  } else {
    btnUp.classList.add('is-hidden');
  }
});

if (window.scrollY > window.innerHeight) {
  btnUp.classList.remove('is-hidden');
} else {
  btnUp.classList.add('is-hidden');
}

btnUp.addEventListener('click', function () {
  window.scrollTo({
    top: 0,
    behavior: 'smooth'
  });
});

if (document.getElementById("index")) {
  new Swiper(".hero__left-swiper", {
    slidesPerView: 1,
    spaceBetween: 0,
    navigation: {
      nextEl: ".hero__left-swiper-next",
      prevEl: ".hero__left-swiper-prev"
    },
    pagination: {
      el: ".hero__left-swiper-pagination",
      clickable: true
    }
  });
  new Swiper(".hero__right-swiper", {
    slidesPerView: 1,
    spaceBetween: 0,
    pagination: {
      el: ".hero__right-swiper-pagination",
      clickable: true
    }
  });
  var items = document.querySelectorAll(".after-hero__box");
  var btn = document.querySelector(".after-hero__btn");
  console.log(window.innerWidth);

  if (window.innerWidth < 768) {
    afterHeroMore(3, btn, items);
  } else if (window.innerWidth < 991) {
    afterHeroMore(5, btn, items);
  }

  window.addEventListener("resize", function () {
    if (window.innerWidth < 768) {
      if (!btn.classList.contains("d-none")) {
        afterHeroMore(3, btn, items);
      }
    } else if (window.innerWidth < 991) {
      if (!btn.classList.contains("d-none")) {
        afterHeroMore(5, btn, items);
      }
    } else {
      items.forEach(function (item) {
        return item.classList.remove("d-none");
      });
    }
  });
  var swiper2 = new Swiper(".customers__swiper", {
    slidesPerView: 2,
    spaceBetween: 10,
    pagination: {
      el: ".customers__pagination",
      clickable: true
    },
    navigation: {
      nextEl: ".customers__swiper-next",
      prevEl: ".customers__swiper-prev"
    },
    breakpoints: {
      567: {
        slidesPerView: 2,
        spaceBetween: 30
      },
      992: {
        slidesPerView: 3,
        spaceBetween: 30
      },
      1110: {
        slidesPerView: 4,
        spaceBetween: 30
      }
    }
  });
}

function afterHeroMore(count, btn, items) {
  if (items.length > count) {
    items.forEach(function (item, index) {
      if (index > count) {
        item.classList.add("d-none");
      }
    });
    btn.addEventListener("click", function () {
      items.forEach(function (item, index) {
        item.classList.remove("d-none");
      });
      btn.classList.add("d-none");
    });
  }
}

if (document.getElementById("about")) {
  var initMapContacts = function initMapContacts() {
    var myMap = new ymaps.Map("contacts__map-penza", {
      center: [53.184451071233134, 45.007014999999924],
      zoom: 13,
      minZoom: 13,
      controls: []
    }, {
      minZoom: 13
    });
    var placemarkDiv = ymaps.templateLayoutFactory.createClass("\n  <div class=\"placemark-custom\">\n    <span class=\"placemark__layout\">\n      <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M15.645 7.54741C15.645 8.93117 14.8282 10.8548 13.6386 12.8497C12.5829 14.6203 11.2788 16.374 10.1427 17.7311C8.94696 16.3197 7.63756 14.5599 6.59452 12.7978C5.42654 10.8246 4.64502 8.93422 4.64502 7.54741C4.64502 4.79601 7.06981 2.5 10.145 2.5C13.2202 2.5 15.645 4.79601 15.645 7.54741Z\" fill=\"#009A6D\" stroke=\"#009A6D\"/>\n        <circle cx=\"10.145\" cy=\"8\" r=\"2.5\" fill=\"white\" stroke=\"#009A6D\"/>\n      </svg>\n    </span>\n  </div>\n  ");
    var circlePlacemark = new ymaps.Placemark([53.184451071233134, 45.007014999999924], {}, {
      iconLayout: placemarkDiv,
      iconShape: {
        type: 'Circle',
        coordinates: [0, 0],
        radius: 30
      }
    });
    myMap.geoObjects.add(circlePlacemark);
    myMap.controls.remove('searchControl');
    myMap.controls.remove('trafficControl');
    myMap.controls.remove('typeSelector');
    myMap.controls.remove('fullscreenControl');
    myMap.controls.remove('rulerControl');
  };

  var initMapContactsMoscow = function initMapContactsMoscow() {
    var myMap = new ymaps.Map("contacts__map-moscow", {
      center: [55.7869050689375, 37.67187549999997],
      zoom: 13,
      minZoom: 13,
      controls: []
    }, {
      minZoom: 13
    });
    var placemarkDiv = ymaps.templateLayoutFactory.createClass("\n  <div class=\"placemark-custom\">\n    <span class=\"placemark__layout\">\n      <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M15.645 7.54741C15.645 8.93117 14.8282 10.8548 13.6386 12.8497C12.5829 14.6203 11.2788 16.374 10.1427 17.7311C8.94696 16.3197 7.63756 14.5599 6.59452 12.7978C5.42654 10.8246 4.64502 8.93422 4.64502 7.54741C4.64502 4.79601 7.06981 2.5 10.145 2.5C13.2202 2.5 15.645 4.79601 15.645 7.54741Z\" fill=\"#009A6D\" stroke=\"#009A6D\"/>\n        <circle cx=\"10.145\" cy=\"8\" r=\"2.5\" fill=\"white\" stroke=\"#009A6D\"/>\n      </svg>\n    </span>\n  </div>\n  ");
    var circlePlacemark = new ymaps.Placemark([55.7869050689375, 37.67187549999997], {}, {
      iconLayout: placemarkDiv,
      iconShape: {
        type: 'Circle',
        coordinates: [0, 0],
        radius: 30
      }
    });
    myMap.geoObjects.add(circlePlacemark);
    myMap.controls.remove('searchControl');
    myMap.controls.remove('trafficControl');
    myMap.controls.remove('typeSelector');
    myMap.controls.remove('fullscreenControl');
    myMap.controls.remove('rulerControl');
  };

  var tabButtons = Array.from(document.querySelectorAll(".about__tab-head-btn"));
  var elements = Array.from(document.querySelectorAll(".about__tab-item"));
  var accordionItems = document.querySelectorAll('.events__accordion-item-head');
  tabActive(tabButtons[0], 0, tabButtons, elements);
  tabButtons.forEach(function (btn, index) {
    btn.addEventListener("click", function () {
      tabActive(btn, index, tabButtons, elements);
    });
  });
  accordionItems.forEach(function (elem) {
    elem.addEventListener("click", function () {
      elem.parentElement.classList.contains("is-show") ? accordionNotActive(elem) : accordionActive(elem);
      accordionItems.forEach(function (el) {
        if (el.parentElement !== elem.parentElement) accordionNotActive(el);
      });
    });
  });
  var swiperHistory = new Swiper('.history__swiper', {
    slidesPerView: 1,
    spaceBetween: 10,
    breakpoints: {
      768: {
        slidesPerView: 2,
        spaceBetween: 30
      },
      1200: {
        slidesPerView: 3,
        spaceBetween: 30
      }
    },
    pagination: {
      el: ".history__pagination",
      clickable: true
    },
    navigation: {
      nextEl: ".history__swiper-next",
      prevEl: ".history__swiper-prev"
    }
  });
  ymaps.ready(initMapContacts);
  ymaps.ready(initMapContactsMoscow);
}

if (document.getElementById("work")) {
  var _tabButtons = Array.from(document.querySelectorAll(".work__tab-head-btn"));

  var _elements = Array.from(document.querySelectorAll(".work__tab-item"));

  var _accordionItems = document.querySelectorAll('.vacancies__accordion-item-head');

  var form = document.querySelector('.internship__form-js');
  var myModalOk = new bootstrap.Modal(document.querySelector(".js-modal-ok"));
  tabActive(_tabButtons[0], 0, _tabButtons, _elements);

  _tabButtons.forEach(function (btn, index) {
    btn.addEventListener("click", function () {
      tabActive(btn, index, _tabButtons, _elements);
    });
  });

  _accordionItems.forEach(function (elem) {
    elem.addEventListener("click", function () {
      elem.parentElement.classList.contains("is-show") ? accordionNotActive(elem) : accordionActive(elem);

      _accordionItems.forEach(function (el) {
        if (el.parentElement !== elem.parentElement) accordionNotActive(el);
      });
    });
  });

  var swiperLive = new Swiper(".live__swiper", {
    slidesPerView: 1,
    spaceBetween: 30,
    pagination: {
      el: ".live__pagination",
      clickable: true
    },
    navigation: {
      nextEl: ".live__swiper-next",
      prevEl: ".live__swiper-prev"
    }
  });
  form.addEventListener('submit', function (e) {
    e.preventDefault();
    myModalOk.show();
  });
}

if (document.getElementById("qp")) {
  var modal = document.querySelector(".js-submit-modal");
  var btns = document.querySelectorAll(".qp__button");
  var myModal = new bootstrap.Modal(modal);

  var _form = document.querySelector(".qp__modal-form");

  var _myModalOk = new bootstrap.Modal(document.querySelector(".js-modal-ok"));

  btns.forEach(function (btn) {
    btn.addEventListener("click", function () {
      myModal.show();
    });
  });

  _form.addEventListener("submit", function (e) {
    e.preventDefault();
    myModal.hide();

    _myModalOk.show();
  });

  if (document.querySelectorAll(".qp__example-swiper")) {
    document.querySelectorAll(".qp__example-swiper").forEach(function (elem) {
      var swiperQP = new Swiper(".qp__example-swiper", {
        slidesPerView: 1,
        spaceBetween: 10,
        pagination: {
          el: ".qp__example-pagination",
          clickable: true
        },
        navigation: {
          nextEl: ".qp__swiper-next",
          prevEl: ".qp__swiper-prev"
        }
      });
    });
  }

  if (document.querySelectorAll('.qp__example-slide') && document.querySelectorAll('.qp__example-slide').length < 2) {
    document.querySelectorAll(".qp__swiper-btn").forEach(function (elem) {
      elem.classList.add('d-none');
    });
  }

  new Accordion(".qp__accordion");

  if (document.querySelector(".qp__accordion-second")) {
    document.querySelectorAll(".qp__accordion-second").forEach(function (elem) {
      new Accordion(elem);
    });
  }
}

if (document.getElementById("quantum")) {
  var swiperQuantum = new Swiper(".quantum__swiper", {
    slidesPerView: 1,
    spaceBetween: 30,
    pagination: {
      el: ".quantum__pagination",
      clickable: true
    },
    navigation: {
      nextEl: ".quantum__swiper-next",
      prevEl: ".quantum__swiper-prev"
    }
  });
  var swiperZoom = new Swiper(".quantum__characteristics-swiper", {
    zoom: true
  });

  var _modal = document.querySelector(".js-submit-modal");

  var _btns = document.querySelectorAll(".quantum__button");

  var _myModal = new bootstrap.Modal(_modal);

  var _form2 = document.querySelector(".quantum__modal-form");

  var _myModalOk2 = new bootstrap.Modal(document.querySelector(".js-modal-ok"));

  var _accordionItems2 = document.querySelectorAll('.quantum__accordion-item-head');

  _btns.forEach(function (btn) {
    btn.addEventListener("click", function () {
      _myModal.show();
    });
  });

  _form2.addEventListener("submit", function (e) {
    e.preventDefault();

    _myModal.hide();

    _myModalOk2.show();
  });

  _accordionItems2.forEach(function (elem) {
    elem.addEventListener("click", function () {
      elem.parentElement.classList.contains("is-show") ? accordionNotActive(elem) : accordionActive(elem);

      _accordionItems2.forEach(function (el) {
        if (el.parentElement !== elem.parentElement) accordionNotActive(el);
      });
    });
  });
}

function tabActive(btn, index, btns, elements) {
  btns.forEach(function (el) {
    return el.parentElement.classList.remove("active");
  });
  elements.forEach(function (el) {
    return el.classList.remove("active");
  });
  setTimeout(function () {
    elements.forEach(function (el) {
      return el.style.display = "none";
    });
    elements[index].style.display = 'block';
    elements[index].classList.add('active');
  }, 300);
  btn.parentElement.classList.add("active");
}

function accordionActive(item) {
  item.parentElement.classList.add("is-show");
  var panel = item.nextElementSibling;

  if (!panel.style.maxHeight) {
    panel.style.maxHeight = panel.scrollHeight + "px";
  }
}

function accordionNotActive(item) {
  item.parentElement.classList.remove("is-show");
  var panel = item.nextElementSibling;

  if (panel.style.maxHeight) {
    panel.style.maxHeight = null;
  }
}

function resizeForHeroLeft(block) {
  var windowWidth = window.innerWidth;
  var containerWidth = container.scrollWidth;

  if (windowWidth > containerWidth) {
    var widthForMenu = (windowWidth - containerWidth) / 2;
    block.style.marginLeft = widthForMenu + 'px';
    console.log(widthForMenu);
  } else {
    block.style.marginLeft = '0';
  }
}

function initMap() {
  var myMap = new ymaps.Map("js-map-penza", {
    center: [53.184451071233134, 45.007014999999924],
    zoom: 13,
    minZoom: 13,
    controls: []
  }, {
    minZoom: 13
  });
  var placemarkDiv = ymaps.templateLayoutFactory.createClass("\n  <div class=\"placemark-custom\">\n    <span class=\"placemark__layout\">\n      <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M15.645 7.54741C15.645 8.93117 14.8282 10.8548 13.6386 12.8497C12.5829 14.6203 11.2788 16.374 10.1427 17.7311C8.94696 16.3197 7.63756 14.5599 6.59452 12.7978C5.42654 10.8246 4.64502 8.93422 4.64502 7.54741C4.64502 4.79601 7.06981 2.5 10.145 2.5C13.2202 2.5 15.645 4.79601 15.645 7.54741Z\" fill=\"#009A6D\" stroke=\"#009A6D\"/>\n        <circle cx=\"10.145\" cy=\"8\" r=\"2.5\" fill=\"white\" stroke=\"#009A6D\"/>\n      </svg>\n    </span>\n  </div>\n  ");
  var circlePlacemark = new ymaps.Placemark([53.184451071233134, 45.007014999999924], {}, {
    iconLayout: placemarkDiv,
    iconShape: {
      type: 'Circle',
      coordinates: [0, 0],
      radius: 30
    }
  });
  myMap.geoObjects.add(circlePlacemark);
  myMap.controls.remove('searchControl');
  myMap.controls.remove('trafficControl');
  myMap.controls.remove('typeSelector');
  myMap.controls.remove('fullscreenControl');
  myMap.controls.remove('rulerControl');
}

ymaps.ready(initMap);

function initMapMoscow() {
  var myMap = new ymaps.Map("js-map-moscow", {
    center: [55.7869050689375, 37.67187549999997],
    zoom: 13,
    minZoom: 13,
    controls: []
  }, {
    minZoom: 13
  });
  var placemarkDiv = ymaps.templateLayoutFactory.createClass("\n  <div class=\"placemark-custom\">\n    <span class=\"placemark__layout\">\n      <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M15.645 7.54741C15.645 8.93117 14.8282 10.8548 13.6386 12.8497C12.5829 14.6203 11.2788 16.374 10.1427 17.7311C8.94696 16.3197 7.63756 14.5599 6.59452 12.7978C5.42654 10.8246 4.64502 8.93422 4.64502 7.54741C4.64502 4.79601 7.06981 2.5 10.145 2.5C13.2202 2.5 15.645 4.79601 15.645 7.54741Z\" fill=\"#009A6D\" stroke=\"#009A6D\"/>\n        <circle cx=\"10.145\" cy=\"8\" r=\"2.5\" fill=\"white\" stroke=\"#009A6D\"/>\n      </svg>\n    </span>\n  </div>\n  ");
  var circlePlacemark = new ymaps.Placemark([55.7869050689375, 37.67187549999997], {}, {
    iconLayout: placemarkDiv,
    iconShape: {
      type: 'Circle',
      coordinates: [0, 0],
      radius: 30
    }
  });
  myMap.geoObjects.add(circlePlacemark);
  myMap.controls.remove('searchControl');
  myMap.controls.remove('trafficControl');
  myMap.controls.remove('typeSelector');
  myMap.controls.remove('fullscreenControl');
  myMap.controls.remove('rulerControl');
}

ymaps.ready(initMapMoscow);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVudSIsImNvbnRhaW5lciIsImhlYWRlckFjY29yZGlvbkl0ZW1zIiwicXVlcnlTZWxlY3RvckFsbCIsImhlYWRlciIsImJ0blVwIiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvd1dpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImNvbnRhaW5lcldpZHRoIiwic2Nyb2xsV2lkdGgiLCJ3aWR0aEZvck1lbnUiLCJzdHlsZSIsIndpZHRoIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiZm9yRWFjaCIsImVsZW0iLCJwYXJlbnRFbGVtZW50IiwiY29udGFpbnMiLCJhY2NvcmRpb25Ob3RBY3RpdmUiLCJhY2NvcmRpb25BY3RpdmUiLCJlbCIsImUiLCJ0YXJnZXQiLCJyZW1vdmUiLCJzY3JvbGxQb3NpdGlvbiIsInNjcm9sbFkiLCJhZGQiLCJpbm5lckhlaWdodCIsInNjcm9sbFRvIiwidG9wIiwiYmVoYXZpb3IiLCJnZXRFbGVtZW50QnlJZCIsIlN3aXBlciIsInNsaWRlc1BlclZpZXciLCJzcGFjZUJldHdlZW4iLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwicHJldkVsIiwicGFnaW5hdGlvbiIsImNsaWNrYWJsZSIsIml0ZW1zIiwiYnRuIiwiY29uc29sZSIsImxvZyIsImFmdGVySGVyb01vcmUiLCJpdGVtIiwic3dpcGVyMiIsImJyZWFrcG9pbnRzIiwiY291bnQiLCJsZW5ndGgiLCJpbmRleCIsImluaXRNYXBDb250YWN0cyIsIm15TWFwIiwieW1hcHMiLCJNYXAiLCJjZW50ZXIiLCJ6b29tIiwibWluWm9vbSIsImNvbnRyb2xzIiwicGxhY2VtYXJrRGl2IiwidGVtcGxhdGVMYXlvdXRGYWN0b3J5IiwiY3JlYXRlQ2xhc3MiLCJjaXJjbGVQbGFjZW1hcmsiLCJQbGFjZW1hcmsiLCJpY29uTGF5b3V0IiwiaWNvblNoYXBlIiwidHlwZSIsImNvb3JkaW5hdGVzIiwicmFkaXVzIiwiZ2VvT2JqZWN0cyIsImluaXRNYXBDb250YWN0c01vc2NvdyIsInRhYkJ1dHRvbnMiLCJBcnJheSIsImZyb20iLCJlbGVtZW50cyIsImFjY29yZGlvbkl0ZW1zIiwidGFiQWN0aXZlIiwic3dpcGVySGlzdG9yeSIsInJlYWR5IiwiZm9ybSIsIm15TW9kYWxPayIsImJvb3RzdHJhcCIsIk1vZGFsIiwic3dpcGVyTGl2ZSIsInByZXZlbnREZWZhdWx0Iiwic2hvdyIsIm1vZGFsIiwiYnRucyIsIm15TW9kYWwiLCJoaWRlIiwic3dpcGVyUVAiLCJBY2NvcmRpb24iLCJzd2lwZXJRdWFudHVtIiwic3dpcGVyWm9vbSIsInNldFRpbWVvdXQiLCJkaXNwbGF5IiwicGFuZWwiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJtYXhIZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCJyZXNpemVGb3JIZXJvTGVmdCIsImJsb2NrIiwibWFyZ2luTGVmdCIsImluaXRNYXAiLCJpbml0TWFwTW9zY293Il0sIm1hcHBpbmdzIjoiOztBQUFBLElBQU1BLE1BQU0sR0FBR0MsUUFBUSxDQUFDQyxhQUFULENBQXVCLGNBQXZCLENBQWY7QUFDQSxJQUFNQyxJQUFJLEdBQUdGLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixlQUF2QixDQUFiO0FBQ0EsSUFBTUUsU0FBUyxHQUFHSCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsbUJBQXZCLENBQWxCO0FBQ0EsSUFBTUcsb0JBQW9CLEdBQUdKLFFBQVEsQ0FBQ0ssZ0JBQVQsQ0FBMEIsc0JBQTFCLENBQTdCO0FBQ0EsSUFBTUMsTUFBTSxHQUFHTixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsU0FBdkIsQ0FBZjtBQUNBLElBQU1NLEtBQUssR0FBR1AsUUFBUSxDQUFDQyxhQUFULENBQXVCLFlBQXZCLENBQWQ7QUFFQUYsTUFBTSxDQUFDUyxnQkFBUCxDQUF3QixPQUF4QixFQUFpQyxZQUFNO0VBQ3JDLElBQU1DLFdBQVcsR0FBR0MsTUFBTSxDQUFDQyxVQUEzQjtFQUNBLElBQU1DLGNBQWMs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LEdBQUcsSUFBSVQsS0FBSyxDQUFDVSxTQUFWLENBQW9CLENBQUMsZ0JBQUQsRUFBa0IsaUJBQWxCLENBQXBCLEVBQXlELEVBQXpELEVBQTZEO0lBQ2pGQyxVQUFVLEVBQUVMLFlBRHFFO0lBRWpGTSxTQUFTLEVBQUU7TUFDVEMsSUFBSSxFQUFFLFFBREc7TUFFVEMsV0FBVyxFQUFFLENBQUMsQ0FBRCxFQUFJLENBQUosQ0FGSjtNQUdUQyxNQUFNLEVBQUU7SUFIQztFQUZzRSxDQUE3RCxDQUF0QjtFQVFBaEIsS0FBSyxDQUFDaUIsVUFBTixDQUFpQjNDLEdBQWpCLENBQXFCb0MsZUFBckI7RUFDQVYsS0FBSyxDQUFDTSxRQUFOLENBQWVuQyxNQUFmLENBQXNCLGVBQXRCO0VBQ0E2QixLQUFLLENBQUNNLFFBQU4sQ0FBZW5DLE1BQWYsQ0FBc0IsZ0JBQXRCO0VBQ0E2QixLQUFLLENBQUNNLFFBQU4sQ0FBZW5DLE1BQWYsQ0FBc0IsY0FBdEI7RUFDQTZCLEtBQUssQ0FBQ00sUUFBTixDQUFlbkMsTUFBZixDQUFzQixtQkFBdEI7RUFDQTZCLEtBQUssQ0FBQ00sUUFBTixDQUFlbkMsTUFBZixDQUFzQixjQUF0QjtBQUNEOztBQUVEOEIsS0FBSyxDQUFDeUIsS0FBTixDQUFZMEIsYUFBWiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2J0blwiKVxuY29uc3QgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19tZW51XCIpXG5jb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmN1c3RvbS1jb250YWluZXJcIik7XG5jb25zdCBoZWFkZXJBY2NvcmRpb25JdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuanMtYWNjb3JkaW9uLWhlYWRlclwiKVxuY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJcIik7XG5jb25zdCBidG5VcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tdXAnKTtcblxuYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGhcbiAgY29uc3QgY29udGFpbmVyV2lkdGggPSBjb250YWluZXIuc2Nyb2xsV2lkdGg7XG5cbiAgaWYgKHdpbmRvd1dpZHRoID4gY29udGFpbmVyV2lkdGgpIHtcblxuICAgIGNvbnN0IHdpZHRoRm9yTWVudSA9ICh3aW5kb3dXaWR0aCAtIGNvbnRhaW5lcldpZHRoKSAvIDJcbiAgICBtZW51LnN0eWxlLndpZHRoID0gNzI1ICsgd2lkdGhGb3JNZW51ICsgJ3B4JztcbiAgfSBlbHNlIHtcbiAgICBtZW51LnN0eWxlLndpZHRoID0gJyc7XG4gIH1cblxuICBidXJnZXIuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gIG1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG59KVxuXG5oZWFkZXJBY2NvcmRpb25JdGVtcy5mb3JFYWNoKGVsZW0gPT4ge1xuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgZWxlbS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImlzLXNob3dcIikgPyBhY2NvcmRpb25Ob3RBY3RpdmUoZWxlbSkgOiBhY2NvcmRpb25BY3RpdmUoZWxlbSlcbiAgICBoZWFkZXJBY2NvcmRpb25JdGVtcy5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGlmIChlbC5wYXJlbnRFbGVtZW50ICE9PSBlbGVtLnBhcmVudEVsZW1lbnQpIGFjY29yZGlvbk5vdEFjdGl2ZShlbClcbiAgICB9KVxuICB9KVxufSlcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICBpZiAoIW1lbnUuY29udGFpbnMoZS50YXJnZXQpICYmICFidXJnZXIuY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgbWVudS5zdHlsZS53aWR0aCA9ICcnO1xuICAgIGJ1cmdlci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICB9XG59KVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XG4gIGNvbnN0IHNjcm9sbFBvc2l0aW9uID0gd2luZG93LnNjcm9sbFlcblxuICBpZiAoc2Nyb2xsUG9zaXRpb24gPj0gMTAwKSB7XG4gICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gIH0gZWxzZSB7XG4gICAgaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gIH1cbn0pXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XG4gIGlmICh3aW5kb3cuc2Nyb2xsWSA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgIGJ0blVwLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWhpZGRlbicpXG4gIH0gZWxzZSB7XG4gICAgYnRuVXAuY2xhc3NMaXN0LmFkZCgnaXMtaGlkZGVuJylcbiAgfVxufSlcblxuaWYgKHdpbmRvdy5zY3JvbGxZID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gIGJ0blVwLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWhpZGRlbicpXG59IGVsc2Uge1xuICBidG5VcC5jbGFzc0xpc3QuYWRkKCdpcy1oaWRkZW4nKVxufVxuXG5idG5VcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgd2luZG93LnNjcm9sbFRvKHtcbiAgICB0b3A6IDAsXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gIH0pXG59KVxuXG5pZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbmRleFwiKSkge1xuICBuZXcgU3dpcGVyKFwiLmhlcm9fX2xlZnQtc3dpcGVyXCIsIHtcbiAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICBuZXh0RWw6IFwiLmhlcm9fX2xlZnQtc3dpcGVyLW5leHRcIixcbiAgICAgIHByZXZFbDogXCIuaGVyb19fbGVmdC1zd2lwZXItcHJldlwiXG4gICAgfSxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogXCIuaGVyb19fbGVmdC1zd2lwZXItcGFnaW5hdGlvblwiLFxuICAgICAgY2xpY2thYmxlOiB0cnVlXG4gICAgfSxcbiAgfSlcblxuICBuZXcgU3dpcGVyKFwiLmhlcm9fX3JpZ2h0LXN3aXBlclwiLCB7XG4gICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6IFwiLmhlcm9fX3JpZ2h0LXN3aXBlci1wYWdpbmF0aW9uXCIsXG4gICAgICBjbGlja2FibGU6IHRydWVcbiAgICB9LFxuICB9KVxuXG4gIGNvbnN0IGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hZnRlci1oZXJvX19ib3hcIilcbiAgY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZnRlci1oZXJvX19idG5cIilcbiAgY29uc29sZS5sb2cod2luZG93LmlubmVyV2lkdGgpXG4gIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDc2OCkge1xuICAgIGFmdGVySGVyb01vcmUoMywgYnRuLCBpdGVtcylcbiAgfSBlbHNlIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDk5MSkge1xuICAgIGFmdGVySGVyb01vcmUoNSwgYnRuLCBpdGVtcylcbiAgfVxuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHtcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPCA3NjgpIHtcbiAgICAgIGlmICghYnRuLmNsYXNzTGlzdC5jb250YWlucyhcImQtbm9uZVwiKSkge1xuICAgICAgICBhZnRlckhlcm9Nb3JlKDMsIGJ0biwgaXRlbXMpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDk5MSkge1xuICAgICAgaWYgKCFidG4uY2xhc3NMaXN0LmNvbnRhaW5zKFwiZC1ub25lXCIpKSB7XG4gICAgICAgIGFmdGVySGVyb01vcmUoNSwgYnRuLCBpdGVtcylcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImQtbm9uZVwiKSlcblxuICAgIH1cbiAgfSlcblxuICBsZXQgc3dpcGVyMiA9IG5ldyBTd2lwZXIoXCIuY3VzdG9tZXJzX19zd2lwZXJcIiwge1xuICAgIHNsaWRlc1BlclZpZXc6IDIsXG4gICAgc3BhY2VCZXR3ZWVuOiAxMCxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogXCIuY3VzdG9tZXJzX19wYWdpbmF0aW9uXCIsXG4gICAgICBjbGlja2FibGU6IHRydWVcbiAgICB9LFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogXCIuY3VzdG9tZXJzX19zd2lwZXItbmV4dFwiLFxuICAgICAgcHJldkVsOiBcIi5jdXN0b21lcnNfX3N3aXBlci1wcmV2XCJcbiAgICB9LFxuICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICA1Njc6IHtcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMixcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgIH0sXG4gICAgICA5OTI6IHtcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMyxcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgIH0sXG4gICAgICAxMTEwOiB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDQsXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMzAsXG4gICAgICB9XG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiBhZnRlckhlcm9Nb3JlIChjb3VudCwgYnRuLCBpdGVtcykge1xuICBpZiAoaXRlbXMubGVuZ3RoID4gY291bnQpIHtcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID4gY291bnQpIHtcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKFwiZC1ub25lXCIpXG4gICAgICB9XG4gICAgfSlcblxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiZC1ub25lXCIpO1xuICAgICAgfSlcbiAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKFwiZC1ub25lXCIpXG4gICAgfSlcbiAgfVxufVxuXG5pZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhYm91dFwiKSkge1xuICBjb25zdCB0YWJCdXR0b25zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFib3V0X190YWItaGVhZC1idG5cIikpO1xuICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hYm91dF9fdGFiLWl0ZW1cIikpO1xuICBjb25zdCBhY2NvcmRpb25JdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ldmVudHNfX2FjY29yZGlvbi1pdGVtLWhlYWQnKTtcbiAgdGFiQWN0aXZlKHRhYkJ1dHRvbnNbMF0sIDAsIHRhYkJ1dHRvbnMsIGVsZW1lbnRzKVxuXG4gIHRhYkJ1dHRvbnMuZm9yRWFjaCgoYnRuLCBpbmRleCkgPT4ge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge3RhYkFjdGl2ZShidG4sIGluZGV4LHRhYkJ1dHRvbnMsIGVsZW1lbnRzKX0pXG4gIH0pXG5cbiAgYWNjb3JkaW9uSXRlbXMuZm9yRWFjaChlbGVtID0+IHtcbiAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBlbGVtLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXMtc2hvd1wiKSA/IGFjY29yZGlvbk5vdEFjdGl2ZShlbGVtKSA6IGFjY29yZGlvbkFjdGl2ZShlbGVtKVxuICAgICAgYWNjb3JkaW9uSXRlbXMuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgIGlmIChlbC5wYXJlbnRFbGVtZW50ICE9PSBlbGVtLnBhcmVudEVsZW1lbnQpIGFjY29yZGlvbk5vdEFjdGl2ZShlbClcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcblxuICB2YXIgc3dpcGVySGlzdG9yeSA9IG5ldyBTd2lwZXIoJy5oaXN0b3J5X19zd2lwZXInLCB7XG4gICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICBzcGFjZUJldHdlZW46IDEwLFxuICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICA3Njg6IHtcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMixcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgIH0sXG4gICAgICAxMjAwOiB7XG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDMsXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMzAsXG4gICAgICB9XG4gICAgfSxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogXCIuaGlzdG9yeV9fcGFnaW5hdGlvblwiLFxuICAgICAgY2xpY2thYmxlOiB0cnVlXG4gICAgfSxcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICBuZXh0RWw6IFwiLmhpc3RvcnlfX3N3aXBlci1uZXh0XCIsXG4gICAgICBwcmV2RWw6IFwiLmhpc3RvcnlfX3N3aXBlci1wcmV2XCJcbiAgICB9LFxuICB9KVxuXG4gIGZ1bmN0aW9uIGluaXRNYXBDb250YWN0cygpIHtcbiAgICB2YXIgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKFwiY29udGFjdHNfX21hcC1wZW56YVwiLCB7XG4gICAgICBjZW50ZXI6IFs1My4xODQ0NTEwNzEyMzMxMzQsNDUuMDA3MDE0OTk5OTk5OTI0XSxcbiAgICAgIHpvb206IDEzLFxuICAgICAgbWluWm9vbTogMTMsXG4gICAgICBjb250cm9sczogW11cbiAgICB9LCB7XG4gICAgICBtaW5ab29tOiAxMyxcbiAgICB9KVxuXG5cbiAgICB2YXIgcGxhY2VtYXJrRGl2ID0geW1hcHMudGVtcGxhdGVMYXlvdXRGYWN0b3J5LmNyZWF0ZUNsYXNzKGBcbiAgPGRpdiBjbGFzcz1cInBsYWNlbWFyay1jdXN0b21cIj5cbiAgICA8c3BhbiBjbGFzcz1cInBsYWNlbWFya19fbGF5b3V0XCI+XG4gICAgICA8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgICAgPHBhdGggZD1cIk0xNS42NDUgNy41NDc0MUMxNS42NDUgOC45MzExNyAxNC44MjgyIDEwLjg1NDggMTMuNjM4NiAxMi44NDk3QzEyLjU4MjkgMTQuNjIwMyAxMS4yNzg4IDE2LjM3NCAxMC4xNDI3IDE3LjczMTFDOC45NDY5NiAxNi4zMTk3IDcuNjM3NTYgMTQuNTU5OSA2LjU5NDUyIDEyLjc5NzhDNS40MjY1NCAxMC44MjQ2IDQuNjQ1MDIgOC45MzQyMiA0LjY0NTAyIDcuNTQ3NDFDNC42NDUwMiA0Ljc5NjAxIDcuMDY5ODEgMi41IDEwLjE0NSAyLjVDMTMuMjIwMiAyLjUgMTUuNjQ1IDQuNzk2MDEgMTUuNjQ1IDcuNTQ3NDFaXCIgZmlsbD1cIiMwMDlBNkRcIiBzdHJva2U9XCIjMDA5QTZEXCIvPlxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTAuMTQ1XCIgY3k9XCI4XCIgcj1cIjIuNVwiIGZpbGw9XCJ3aGl0ZVwiIHN0cm9rZT1cIiMwMDlBNkRcIi8+XG4gICAgICA8L3N2Zz5cbiAgICA8L3NwYW4+XG4gIDwvZGl2PlxuICBgKVxuXG4gICAgdmFyIGNpcmNsZVBsYWNlbWFyayA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoWzUzLjE4NDQ1MTA3MTIzMzEzNCw0NS4wMDcwMTQ5OTk5OTk5MjRdLHt9LCB7XG4gICAgICBpY29uTGF5b3V0OiBwbGFjZW1hcmtEaXYsXG4gICAgICBpY29uU2hhcGU6IHtcbiAgICAgICAgdHlwZTogJ0NpcmNsZScsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBbMCwgMF0sXG4gICAgICAgIHJhZGl1czogMzBcbiAgICAgIH1cbiAgICB9KVxuICAgIG15TWFwLmdlb09iamVjdHMuYWRkKGNpcmNsZVBsYWNlbWFyayk7XG4gICAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCdzZWFyY2hDb250cm9sJyk7XG4gICAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCd0cmFmZmljQ29udHJvbCcpO1xuICAgIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgndHlwZVNlbGVjdG9yJyk7XG4gICAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCdmdWxsc2NyZWVuQ29udHJvbCcpO1xuICAgIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgncnVsZXJDb250cm9sJyk7XG4gIH1cbiAgZnVuY3Rpb24gaW5pdE1hcENvbnRhY3RzTW9zY293KCkge1xuICAgIHZhciBteU1hcCA9IG5ldyB5bWFwcy5NYXAoXCJjb250YWN0c19fbWFwLW1vc2Nvd1wiLCB7XG4gICAgICBjZW50ZXI6IFs1NS43ODY5MDUwNjg5Mzc1LDM3LjY3MTg3NTQ5OTk5OTk3XSxcbiAgICAgIHpvb206IDEzLFxuICAgICAgbWluWm9vbTogMTMsXG4gICAgICBjb250cm9sczogW11cbiAgICB9LCB7XG4gICAgICBtaW5ab29tOiAxMyxcbiAgICB9KVxuXG5cbiAgICB2YXIgcGxhY2VtYXJrRGl2ID0geW1hcHMudGVtcGxhdGVMYXlvdXRGYWN0b3J5LmNyZWF0ZUNsYXNzKGBcbiAgPGRpdiBjbGFzcz1cInBsYWNlbWFyay1jdXN0b21cIj5cbiAgICA8c3BhbiBjbGFzcz1cInBsYWNlbWFya19fbGF5b3V0XCI+XG4gICAgICA8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgICAgPHBhdGggZD1cIk0xNS42NDUgNy41NDc0MUMxNS42NDUgOC45MzExNyAxNC44MjgyIDEwLjg1NDggMTMuNjM4NiAxMi44NDk3QzEyLjU4MjkgMTQuNjIwMyAxMS4yNzg4IDE2LjM3NCAxMC4xNDI3IDE3LjczMTFDOC45NDY5NiAxNi4zMTk3IDcuNjM3NTYgMTQuNTU5OSA2LjU5NDUyIDEyLjc5NzhDNS40MjY1NCAxMC44MjQ2IDQuNjQ1MDIgOC45MzQyMiA0LjY0NTAyIDcuNTQ3NDFDNC42NDUwMiA0Ljc5NjAxIDcuMDY5ODEgMi41IDEwLjE0NSAyLjVDMTMuMjIwMiAyLjUgMTUuNjQ1IDQuNzk2MDEgMTUuNjQ1IDcuNTQ3NDFaXCIgZmlsbD1cIiMwMDlBNkRcIiBzdHJva2U9XCIjMDA5QTZEXCIvPlxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTAuMTQ1XCIgY3k9XCI4XCIgcj1cIjIuNVwiIGZpbGw9XCJ3aGl0ZVwiIHN0cm9rZT1cIiMwMDlBNkRcIi8+XG4gICAgICA8L3N2Zz5cbiAgICA8L3NwYW4+XG4gIDwvZGl2PlxuICBgKVxuXG4gICAgdmFyIGNpcmNsZVBsYWNlbWFyayA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoWzU1Ljc4NjkwNTA2ODkzNzUsMzcuNjcxODc1NDk5OTk5OTddLHt9LCB7XG4gICAgICBpY29uTGF5b3V0OiBwbGFjZW1hcmtEaXYsXG4gICAgICBpY29uU2hhcGU6IHtcbiAgICAgICAgdHlwZTogJ0NpcmNsZScsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBbMCwgMF0sXG4gICAgICAgIHJhZGl1czogMzBcbiAgICAgIH1cbiAgICB9KVxuICAgIG15TWFwLmdlb09iamVjdHMuYWRkKGNpcmNsZVBsYWNlbWFyayk7XG4gICAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCdzZWFyY2hDb250cm9sJyk7XG4gICAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCd0cmFmZmljQ29udHJvbCcpO1xuICAgIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgndHlwZVNlbGVjdG9yJyk7XG4gICAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCdmdWxsc2NyZWVuQ29udHJvbCcpO1xuICAgIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgncnVsZXJDb250cm9sJyk7XG4gIH1cbiAgeW1hcHMucmVhZHkoaW5pdE1hcENvbnRhY3RzKVxuICB5bWFwcy5yZWFkeShpbml0TWFwQ29udGFjdHNNb3Njb3cpXG59XG5cbmlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndvcmtcIikpIHtcbiAgY29uc3QgdGFiQnV0dG9ucyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi53b3JrX190YWItaGVhZC1idG5cIikpO1xuICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi53b3JrX190YWItaXRlbVwiKSk7XG4gIGNvbnN0IGFjY29yZGlvbkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnZhY2FuY2llc19fYWNjb3JkaW9uLWl0ZW0taGVhZCcpO1xuICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludGVybnNoaXBfX2Zvcm0tanMnKVxuICBjb25zdCBteU1vZGFsT2sgPSBuZXcgYm9vdHN0cmFwLk1vZGFsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtbW9kYWwtb2tcIikpO1xuICB0YWJBY3RpdmUodGFiQnV0dG9uc1swXSwgMCwgdGFiQnV0dG9ucywgZWxlbWVudHMpXG5cbiAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4sIGluZGV4KSA9PiB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7dGFiQWN0aXZlKGJ0biwgaW5kZXgsdGFiQnV0dG9ucywgZWxlbWVudHMpfSlcbiAgfSlcblxuICBhY2NvcmRpb25JdGVtcy5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGVsZW0ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJpcy1zaG93XCIpID8gYWNjb3JkaW9uTm90QWN0aXZlKGVsZW0pIDogYWNjb3JkaW9uQWN0aXZlKGVsZW0pXG4gICAgICBhY2NvcmRpb25JdGVtcy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgaWYgKGVsLnBhcmVudEVsZW1lbnQgIT09IGVsZW0ucGFyZW50RWxlbWVudCkgYWNjb3JkaW9uTm90QWN0aXZlKGVsKVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxuXG4gIGxldCBzd2lwZXJMaXZlID0gbmV3IFN3aXBlcihcIi5saXZlX19zd2lwZXJcIiwge1xuICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogXCIubGl2ZV9fcGFnaW5hdGlvblwiLFxuICAgICAgY2xpY2thYmxlOiB0cnVlXG4gICAgfSxcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICBuZXh0RWw6IFwiLmxpdmVfX3N3aXBlci1uZXh0XCIsXG4gICAgICBwcmV2RWw6IFwiLmxpdmVfX3N3aXBlci1wcmV2XCJcbiAgICB9LFxuICB9KVxuXG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgbXlNb2RhbE9rLnNob3coKTtcbiAgfSlcbn1cblxuaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicXBcIikpIHtcbiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLXN1Ym1pdC1tb2RhbFwiKTtcbiAgY29uc3QgYnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucXBfX2J1dHRvblwiKTtcbiAgY29uc3QgbXlNb2RhbCA9IG5ldyBib290c3RyYXAuTW9kYWwobW9kYWwpO1xuICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5xcF9fbW9kYWwtZm9ybVwiKVxuICBjb25zdCBteU1vZGFsT2sgPSBuZXcgYm9vdHN0cmFwLk1vZGFsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtbW9kYWwtb2tcIikpO1xuXG4gIGJ0bnMuZm9yRWFjaChidG4gPT4ge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgbXlNb2RhbC5zaG93KCk7XG4gICAgfSlcbiAgfSlcblxuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgbXlNb2RhbC5oaWRlKCk7XG4gICAgbXlNb2RhbE9rLnNob3coKTtcbiAgfSlcblxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5xcF9fZXhhbXBsZS1zd2lwZXJcIikpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnFwX19leGFtcGxlLXN3aXBlclwiKS5mb3JFYWNoKGVsZW0gPT4ge1xuICAgICAgbGV0IHN3aXBlclFQID0gbmV3IFN3aXBlcihcIi5xcF9fZXhhbXBsZS1zd2lwZXJcIiwge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgICBzcGFjZUJldHdlZW46IDEwLFxuICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgZWw6IFwiLnFwX19leGFtcGxlLXBhZ2luYXRpb25cIixcbiAgICAgICAgICBjbGlja2FibGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICAgIG5leHRFbDogXCIucXBfX3N3aXBlci1uZXh0XCIsXG4gICAgICAgICAgcHJldkVsOiBcIi5xcF9fc3dpcGVyLXByZXZcIlxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cblxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnFwX19leGFtcGxlLXNsaWRlJykgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnFwX19leGFtcGxlLXNsaWRlJykubGVuZ3RoIDwgMikge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucXBfX3N3aXBlci1idG5cIikuZm9yRWFjaChlbGVtID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnZC1ub25lJylcbiAgICB9KVxuICB9XG5cbiAgbmV3IEFjY29yZGlvbihcIi5xcF9fYWNjb3JkaW9uXCIpXG5cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucXBfX2FjY29yZGlvbi1zZWNvbmRcIikpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnFwX19hY2NvcmRpb24tc2Vjb25kXCIpLmZvckVhY2goZWxlbSA9PiB7XG4gICAgICBuZXcgQWNjb3JkaW9uKGVsZW0pXG4gICAgfSlcbiAgfVxuXG5cbn1cblxuaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicXVhbnR1bVwiKSkge1xuICBsZXQgc3dpcGVyUXVhbnR1bSA9IG5ldyBTd2lwZXIoXCIucXVhbnR1bV9fc3dpcGVyXCIsIHtcbiAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgIHNwYWNlQmV0d2VlbjogMzAsXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6IFwiLnF1YW50dW1fX3BhZ2luYXRpb25cIixcbiAgICAgIGNsaWNrYWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiBcIi5xdWFudHVtX19zd2lwZXItbmV4dFwiLFxuICAgICAgcHJldkVsOiBcIi5xdWFudHVtX19zd2lwZXItcHJldlwiXG4gICAgfSxcbiAgfSlcblxuICBsZXQgc3dpcGVyWm9vbSA9IG5ldyBTd2lwZXIoXCIucXVhbnR1bV9fY2hhcmFjdGVyaXN0aWNzLXN3aXBlclwiLCB7XG4gICAgem9vbTogdHJ1ZVxuICB9KVxuXG4gIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1zdWJtaXQtbW9kYWxcIik7XG4gIGNvbnN0IGJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnF1YW50dW1fX2J1dHRvblwiKTtcbiAgY29uc3QgbXlNb2RhbCA9IG5ldyBib290c3RyYXAuTW9kYWwobW9kYWwpO1xuICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5xdWFudHVtX19tb2RhbC1mb3JtXCIpXG4gIGNvbnN0IG15TW9kYWxPayA9IG5ldyBib290c3RyYXAuTW9kYWwoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1tb2RhbC1va1wiKSk7XG4gIGNvbnN0IGFjY29yZGlvbkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnF1YW50dW1fX2FjY29yZGlvbi1pdGVtLWhlYWQnKVxuXG4gIGJ0bnMuZm9yRWFjaChidG4gPT4ge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgbXlNb2RhbC5zaG93KCk7XG4gICAgfSlcbiAgfSlcblxuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgbXlNb2RhbC5oaWRlKCk7XG4gICAgbXlNb2RhbE9rLnNob3coKTtcbiAgfSlcblxuICBhY2NvcmRpb25JdGVtcy5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGVsZW0ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJpcy1zaG93XCIpID8gYWNjb3JkaW9uTm90QWN0aXZlKGVsZW0pIDogYWNjb3JkaW9uQWN0aXZlKGVsZW0pXG4gICAgICBhY2NvcmRpb25JdGVtcy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgaWYgKGVsLnBhcmVudEVsZW1lbnQgIT09IGVsZW0ucGFyZW50RWxlbWVudCkgYWNjb3JkaW9uTm90QWN0aXZlKGVsKVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxufVxuXG5mdW5jdGlvbiB0YWJBY3RpdmUoYnRuLCBpbmRleCwgYnRucywgZWxlbWVudHMpIHtcbiAgYnRucy5mb3JFYWNoKChlbCkgPT4gZWwucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKTtcbiAgZWxlbWVudHMuZm9yRWFjaChlbCA9PiBlbC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgZWxlbWVudHMuZm9yRWFjaChlbCA9PiBlbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCIpXG4gICAgZWxlbWVudHNbaW5kZXhdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIGVsZW1lbnRzW2luZGV4XS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblxuICB9LCAzMDApXG5cbiAgYnRuLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbn1cblxuZnVuY3Rpb24gYWNjb3JkaW9uQWN0aXZlKGl0ZW0pIHtcbiAgaXRlbS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJpcy1zaG93XCIpO1xuICBsZXQgcGFuZWwgPSBpdGVtLm5leHRFbGVtZW50U2libGluZztcbiAgaWYgKCFwYW5lbC5zdHlsZS5tYXhIZWlnaHQpIHtcbiAgICBwYW5lbC5zdHlsZS5tYXhIZWlnaHQgPSBwYW5lbC5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWNjb3JkaW9uTm90QWN0aXZlKGl0ZW0pIHtcbiAgaXRlbS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1zaG93XCIpO1xuICBsZXQgcGFuZWwgPSBpdGVtLm5leHRFbGVtZW50U2libGluZztcbiAgaWYgKHBhbmVsLnN0eWxlLm1heEhlaWdodCkge1xuICAgIHBhbmVsLnN0eWxlLm1heEhlaWdodCA9IG51bGxcbiAgfVxufVxuXG5mdW5jdGlvbiByZXNpemVGb3JIZXJvTGVmdCAoYmxvY2spIHtcbiAgY29uc3Qgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aFxuICBjb25zdCBjb250YWluZXJXaWR0aCA9IGNvbnRhaW5lci5zY3JvbGxXaWR0aFxuXG4gIGlmICh3aW5kb3dXaWR0aCA+IGNvbnRhaW5lcldpZHRoKSB7XG4gICAgY29uc3Qgd2lkdGhGb3JNZW51ID0gKHdpbmRvd1dpZHRoIC0gY29udGFpbmVyV2lkdGgpIC8gMlxuICAgIGJsb2NrLnN0eWxlLm1hcmdpbkxlZnQgPSB3aWR0aEZvck1lbnUgKyAncHgnXG4gICAgY29uc29sZS5sb2cod2lkdGhGb3JNZW51KVxuICB9IGVsc2Uge1xuICAgIGJsb2NrLnN0eWxlLm1hcmdpbkxlZnQgPSAnMCdcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGluaXRNYXAoKSB7XG4gIHZhciBteU1hcCA9IG5ldyB5bWFwcy5NYXAoXCJqcy1tYXAtcGVuemFcIiwge1xuICAgIGNlbnRlcjogWzUzLjE4NDQ1MTA3MTIzMzEzNCw0NS4wMDcwMTQ5OTk5OTk5MjRdLFxuICAgIHpvb206IDEzLFxuICAgIG1pblpvb206IDEzLFxuICAgIGNvbnRyb2xzOiBbXVxuICB9LCB7XG4gICAgbWluWm9vbTogMTMsXG4gIH0pXG5cblxuICB2YXIgcGxhY2VtYXJrRGl2ID0geW1hcHMudGVtcGxhdGVMYXlvdXRGYWN0b3J5LmNyZWF0ZUNsYXNzKGBcbiAgPGRpdiBjbGFzcz1cInBsYWNlbWFyay1jdXN0b21cIj5cbiAgICA8c3BhbiBjbGFzcz1cInBsYWNlbWFya19fbGF5b3V0XCI+XG4gICAgICA8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgICAgPHBhdGggZD1cIk0xNS42NDUgNy41NDc0MUMxNS42NDUgOC45MzExNyAxNC44MjgyIDEwLjg1NDggMTMuNjM4NiAxMi44NDk3QzEyLjU4MjkgMTQuNjIwMyAxMS4yNzg4IDE2LjM3NCAxMC4xNDI3IDE3LjczMTFDOC45NDY5NiAxNi4zMTk3IDcuNjM3NTYgMTQuNTU5OSA2LjU5NDUyIDEyLjc5NzhDNS40MjY1NCAxMC44MjQ2IDQuNjQ1MDIgOC45MzQyMiA0LjY0NTAyIDcuNTQ3NDFDNC42NDUwMiA0Ljc5NjAxIDcuMDY5ODEgMi41IDEwLjE0NSAyLjVDMTMuMjIwMiAyLjUgMTUuNjQ1IDQuNzk2MDEgMTUuNjQ1IDcuNTQ3NDFaXCIgZmlsbD1cIiMwMDlBNkRcIiBzdHJva2U9XCIjMDA5QTZEXCIvPlxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTAuMTQ1XCIgY3k9XCI4XCIgcj1cIjIuNVwiIGZpbGw9XCJ3aGl0ZVwiIHN0cm9rZT1cIiMwMDlBNkRcIi8+XG4gICAgICA8L3N2Zz5cbiAgICA8L3NwYW4+XG4gIDwvZGl2PlxuICBgKVxuXG4gIHZhciBjaXJjbGVQbGFjZW1hcmsgPSBuZXcgeW1hcHMuUGxhY2VtYXJrKFs1My4xODQ0NTEwNzEyMzMxMzQsNDUuMDA3MDE0OTk5OTk5OTI0XSx7fSwge1xuICAgIGljb25MYXlvdXQ6IHBsYWNlbWFya0RpdixcbiAgICBpY29uU2hhcGU6IHtcbiAgICAgIHR5cGU6ICdDaXJjbGUnLFxuICAgICAgY29vcmRpbmF0ZXM6IFswLCAwXSxcbiAgICAgIHJhZGl1czogMzBcbiAgICB9XG4gIH0pXG4gIG15TWFwLmdlb09iamVjdHMuYWRkKGNpcmNsZVBsYWNlbWFyayk7XG4gIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgnc2VhcmNoQ29udHJvbCcpO1xuICBteU1hcC5jb250cm9scy5yZW1vdmUoJ3RyYWZmaWNDb250cm9sJyk7XG4gIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgndHlwZVNlbGVjdG9yJyk7XG4gIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgnZnVsbHNjcmVlbkNvbnRyb2wnKTtcbiAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCdydWxlckNvbnRyb2wnKTtcbn1cblxueW1hcHMucmVhZHkoaW5pdE1hcClcblxuZnVuY3Rpb24gaW5pdE1hcE1vc2NvdygpIHtcbiAgdmFyIG15TWFwID0gbmV3IHltYXBzLk1hcChcImpzLW1hcC1tb3Njb3dcIiwge1xuICAgIGNlbnRlcjogWzU1Ljc4NjkwNTA2ODkzNzUsMzcuNjcxODc1NDk5OTk5OTddLFxuICAgIHpvb206IDEzLFxuICAgIG1pblpvb206IDEzLFxuICAgIGNvbnRyb2xzOiBbXVxuICB9LCB7XG4gICAgbWluWm9vbTogMTMsXG4gIH0pXG5cblxuICB2YXIgcGxhY2VtYXJrRGl2ID0geW1hcHMudGVtcGxhdGVMYXlvdXRGYWN0b3J5LmNyZWF0ZUNsYXNzKGBcbiAgPGRpdiBjbGFzcz1cInBsYWNlbWFyay1jdXN0b21cIj5cbiAgICA8c3BhbiBjbGFzcz1cInBsYWNlbWFya19fbGF5b3V0XCI+XG4gICAgICA8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgICAgPHBhdGggZD1cIk0xNS42NDUgNy41NDc0MUMxNS42NDUgOC45MzExNyAxNC44MjgyIDEwLjg1NDggMTMuNjM4NiAxMi44NDk3QzEyLjU4MjkgMTQuNjIwMyAxMS4yNzg4IDE2LjM3NCAxMC4xNDI3IDE3LjczMTFDOC45NDY5NiAxNi4zMTk3IDcuNjM3NTYgMTQuNTU5OSA2LjU5NDUyIDEyLjc5NzhDNS40MjY1NCAxMC44MjQ2IDQuNjQ1MDIgOC45MzQyMiA0LjY0NTAyIDcuNTQ3NDFDNC42NDUwMiA0Ljc5NjAxIDcuMDY5ODEgMi41IDEwLjE0NSAyLjVDMTMuMjIwMiAyLjUgMTUuNjQ1IDQuNzk2MDEgMTUuNjQ1IDcuNTQ3NDFaXCIgZmlsbD1cIiMwMDlBNkRcIiBzdHJva2U9XCIjMDA5QTZEXCIvPlxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTAuMTQ1XCIgY3k9XCI4XCIgcj1cIjIuNVwiIGZpbGw9XCJ3aGl0ZVwiIHN0cm9rZT1cIiMwMDlBNkRcIi8+XG4gICAgICA8L3N2Zz5cbiAgICA8L3NwYW4+XG4gIDwvZGl2PlxuICBgKVxuXG4gIHZhciBjaXJjbGVQbGFjZW1hcmsgPSBuZXcgeW1hcHMuUGxhY2VtYXJrKFs1NS43ODY5MDUwNjg5Mzc1LDM3LjY3MTg3NTQ5OTk5OTk3XSx7fSwge1xuICAgIGljb25MYXlvdXQ6IHBsYWNlbWFya0RpdixcbiAgICBpY29uU2hhcGU6IHtcbiAgICAgIHR5cGU6ICdDaXJjbGUnLFxuICAgICAgY29vcmRpbmF0ZXM6IFswLCAwXSxcbiAgICAgIHJhZGl1czogMzBcbiAgICB9XG4gIH0pXG4gIG15TWFwLmdlb09iamVjdHMuYWRkKGNpcmNsZVBsYWNlbWFyayk7XG4gIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgnc2VhcmNoQ29udHJvbCcpO1xuICBteU1hcC5jb250cm9scy5yZW1vdmUoJ3RyYWZmaWNDb250cm9sJyk7XG4gIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgndHlwZVNlbGVjdG9yJyk7XG4gIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgnZnVsbHNjcmVlbkNvbnRyb2wnKTtcbiAgbXlNYXAuY29udHJvbHMucmVtb3ZlKCdydWxlckNvbnRyb2wnKTtcbn1cblxueW1hcHMucmVhZHkoaW5pdE1hcE1vc2NvdykiXX0=
